{
  "components": {
    "1": {
      "id": "1",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class=\"header-footer-style\">\n    Финал серии\n</header>\n\n\n<main class=\"main-layout\">\n\n<!-- Элементы вывода -->\n<div class = \"horizontal-section\">\n\n    <!-- График (тут только часть, остальное в Scripts) --> \n    <div id = \"chart-card\" class=\"card output-color horizontal-centered\">\n      <div id = \"chart\"></div>\n    </div>\n\n    <!-- Уровень производства --> \n    <div id = \"prod-level\" class = \"card output-color text-lefted\">\n      <div id = \"prod-level-headline\" class = \"headline\">Уровень производства</div>\n      <div class = \"fifthteen_px\"\"> \n        <span class = \"medium_weight\"> Финальный уровень:</span> \n        <span id = \"production_value\"> 6 000 (+2 000 до цели) </span>\n      </div>\n      <div id = \"target-level-headline\" class = \"fifthteen_px text-lefted\"> \n        <span class = \"medium_weight\"> Цель:</span> \n        8 000 – 10 000\n      </div>\n    </div>\n\n</div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Серия закончена. Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы перейти дальше\n</footer>\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [
        {
          "event": "keypress",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "// Калькуляция финальных резултатов\nstudy.parameters.result = 0\nvar graph_data = study.parameters.graph_data\ngraph_data[\"values\"].forEach((item) => {\n  if \n    (item.Уровень_производства >= 8000 && \n    item.Уровень_производства <= 10000) {\n        study.parameters.result = ++study.parameters.result}});\n\n\n// Точки-разделители для тысяч\nfunction number_with_dot(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n}\n\n// Синхронизация уровня производства\nproduction_value = study.parameters.production_value\nvar production_label = document.getElementById(\"production_value\")\n\nif (production_value >= 8000 && production_value <= 10000) {\n    var prod_value = \n        number_with_dot(production_value) + \" (отвечает цели)\"\n    production_label.classList.add(\"dark-green\") \n\n} else {\n    var to_target = \n        production_value > 10000 ? 10000 - production_value : 8000 - production_value\n    var prod_value = \n        number_with_dot(production_value) + \n        \" (\" + \n        number_with_dot(to_target) + \n        \" до цели)\"\n    production_label.classList.add(\"dark-yellow\")  \n}\n\nproduction_label.firstChild.nodeValue = prod_value\n\n\n// Данные для графика\nvar graph_data = study.parameters.graph_data\n\n// Конфигурация графика\nvar spec = {\n  $schema: 'https://vega.github.io/schema/vega-lite/v3.json',\n  data: graph_data,\n  transform: [\n    {'calculate': '7940', \"as\": \"downline\"}, \n    {'calculate': '9890', \"as\": \"upline\"}],\n  zero_title: 2000,\n  width: 400,\n  height: 140,\n  title: {text: 'Производственный график', fontSize: 16, dy: -12},\n  layer: [\n\n   // Прямоугольник, выделяющий целевой уровень производства         \n   {mark: \"rect\",\n    encoding: {\n        \"x\":{ \"value\": 1.5 },\n        \"x2\":{ \"value\": 399.5 },\n        \"y\":{ \"field\": \"upline\" },\n        \"y2\":{ \"field\": \"downline\" } ,\n        \"fill\":{ \"value\": \"#E7F2E7\" },\n        \"stroke\":{ \"value\": \"#E7F2E7\" },\n        \"strokeWidth\":{ \"value\": 1 },\n        \"tooltip\": \n          {\"value\": \"Цель (8.000 – 10.000)\"}}}, \n\n   // Линия, обозначающая нижнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"downline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n\n   // Линия, обозначающая верхнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"upline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n      \n   // График изменения уровня производства     \n   {mark: {\"type\": \"line\", \"point\": {\"size\": 60}},\n    encoding: {\n      x: {\n        field: 'Шаг', \n        type: 'quantitative', \n        scale: {domain: [0, 20]},\n        axis: {titleFontSize: 14, labelFontSize: 12, titlePadding: 12}},\n      y: {\n        field: 'Уровень_производства', \n        type: 'quantitative', \n        scale: {domain: [0, 13000]},\n        axis: {\n          titleFontSize: 14, \n          labelFontSize: 12,  \n          titlePadding: 12,    \n          zindex: 0}},\n        color: {\n    \"condition\": [\n       { \"test\": \n              \"datum['Уровень_производства'] > 7999 && datum['Уровень_производства'] < 10001\", \n          \"value\": \"#3C8327\"},\n        {\"test\": \n              \"datum['Шаг'] == 0\", \n          \"value\": \"gray\"}],\n        \"value\": \"#DC8A0E\"},\n\n      tooltip: [{\n        \"field\": \"Сделанный выбор\", \n        \"type\": \"quantitative\",\n        \"title\": \"Выбор\"}]}}]\n};\n\n\n// Построение графика\nvegaEmbed('#chart', spec, {\"actions\": false}).then(function(res) {\n  res.view.change('table', changeSet).run();\n});\n\n"
        },
        {
          "title": "",
          "message": "end",
          "code": "// Очистка графика (иначе тултип остается на следующих страницах)\nlet tooltip = document.getElementById('vg-tooltip-element')\ntooltip.style.display = 'none'\n\n\n// Продуктивность последнего этапа\nstudy.parameters.last_stage_productivity = \n    study.parameters.result / \n    (study.parameters.graph_data[\"values\"].length - 1)\n\n\n// Подсчет глобальных результатов\nif (typeof(study.parameters.global_results) == \"undefined\") {\n  study.parameters.global_results = 0\n  study.parameters.global_attempts = 0\n}\n\n\n// Общее количество соответсвий\nstudy.parameters.global_results += study.parameters.result\n\n// Общее количество попыток\nstudy.parameters.global_attempts +=\n    study.parameters.graph_data[\"values\"].length - 1\n\n// Общая продуктивность\nstudy.parameters.global_productivity = \n    study.parameters.global_results / study.parameters.global_attempts\n\n\n// Обнуление фабрики перед новой серии\nif (this.parameters.last_step) {\n  study.parameters.graph_data = \n      {\"values\": \n          [{'Сделанный выбор': 600, \n          'Уровень_производства': 6000, \n          'Шаг': 0,\n          'Последний': 1}]}\n  study.parameters.production_value = 6000\n}\n\nstudy.parameters.number_of_workers = 600\n\n\n// Данные для отрисовки графика продуктивности\nif (typeof(study.parameters.prod_graph_data) == \"undefined\") {\n  var step = 1\n  study.parameters.prod_graph_data = { \"values\": [] }\n} else {\n  var step = study.parameters.prod_graph_data[\"values\"].length + 1\n}\n\nstudy.parameters.prod_graph_data[\"values\"].push({\n  'Этап': \"Серия с напарником\", \n  'Продуктивность': study.parameters.last_stage_productivity, \n  'Номер серии': step})"
        }
      ],
      "title": "form_results",
      "_tab": "Scripts",
      "timeout": ""
    },
    "2": {
      "id": "2",
      "type": "lab.html.Screen",
      "files": [],
      "responses": [
        {
          "label": "Enter clicked",
          "event": "keypress",
          "target": "",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "var stage = document.getElementById(\"stage-title\")\nstage.firstChild.nodeValue = this.parameters.stage"
        }
      ],
      "title": "screen_set_presentation",
      "content": "<main class = \"light-gray main-layout\">\n    <div class = \"present-card text-lefted\"> \n        <div class = \"gray\"> Текущй этап </div>\n        <div \n          id = \"stage-title\" \n          class = \"medium_weight twenty-eight_px\"> \n              Название серии\n        </div>\n    </div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Вы перейдёте к заданию через несколько секунд\n</footer>",
      "_tab": "Behavior",
      "timeout": "4000"
    },
    "4": {
      "id": "4",
      "type": "lab.html.Screen",
      "files": [],
      "responses": [
        {
          "label": "Enter clicked",
          "event": "keypress",
          "target": "",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": ""
        }
      ],
      "title": "screen_set_presentation",
      "content": "<main class = \"light-gray main-layout\">\n    <div class = \"present-card text-lefted\"> \n        <div class = \"gray\"> Текущй этап </div>\n        <div \n          id = \"stage-title\" \n          class = \"medium_weight twenty-eight_px\"> \n              Финальная индивидуальная серия\n        </div>\n    </div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Вы перейдёте к заданию через несколько секунд\n</footer>",
      "_tab": "Content",
      "timeout": "4000"
    },
    "5": {
      "id": "5",
      "type": "lab.html.Screen",
      "files": [],
      "responses": [
        {
          "label": "Enter clicked",
          "event": "keypress",
          "target": "",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "var stage = document.getElementById(\"step\")\nstage.firstChild.nodeValue = \n    this.parameters.step + \n    \"/20 шаг набора\""
        }
      ],
      "title": "screen_final_presentation",
      "_tab": "Content",
      "content": "<main class = \"main-layout\">\n    <div class = \"final-choice-card text-lefted\"> \n        <div \n          id = \"step\" \n          class = \"blue-light\"> n/20 \n          \n        </div>\n        <div class = \"medium_weight twenty-eight_px blue\"> \n              Финальный выбор\n        </div>\n    </div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Вы перейдёте к выбору через несколько секунд\n\n    <!-- Кнопка для сабмита --> \n    <button \n        id = \"submit_button\" \n        style = \"display: none\" \n        type = \"submit\" \n        form = \"confidence_form\">\n    </button>\n    \n</footer>",
      "timeout": "2500"
    },
    "6": {
      "id": "6",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class=\"header-footer-style\">\n\n    <!-- <span class = \"turquoise\"> Предварительный выбор </span> • -->\n    Предварительный выбор • \n    ${this.parameters.step}/20 шаг серии <br>\n    \n    \n</header>\n\n\n<main class=\"main-layout\">\n  \n<!-- Элементы вывода -->\n<div class = \"horizontal-section\">\n\n  <!-- График (тут только часть, остальное в Scripts) --> \n  <div id = \"chart-card\" class=\"card output-color horizontal-centered\">\n    <div id = \"chart\"></div>\n  </div>\n\n\n  <!-- Уровень производства -->\n  <div id = \"info-section-col\">\n    <!-- Уровень производства --> \n    <div id \"prod-level\" class = \"card output-color text-lefted\">\n      <div id = \"prod-level-headline\" class = \"headline\">Уровень производства</div>\n      <div class = \"fifthteen_px\"\"> \n        <span class = \"medium_weight\">Текущий уровень:</span> \n        <span id = \"production_value\"> 6 000 (+2 000 до цели) </span>\n      </div>\n      <div id = \"target-level-headline\" class = \"fifthteen_px text-lefted\"> \n        <span class = \"medium_weight\"> Цель:</span> \n        8 000 – 10 000\n      </div>\n    </div>\n\n  </div>\n</div>\n\n\n<!-- Элементы ввода --> \n<div class = \"horizontal-section\">\n  <!-- Выбор количества рабочих (тут только часть, логика изменения в Scripts) --> \n  <div id = \"workers-num-block\" class = \"card input-color vertical-centered\">\n    <p class = \"headline\"> Выберите количество рабочих </p>\n    <div class = \"horizontal-centered\">\n        <button id = \"-\" class = \"work-num-element button nineteen_px\">-</button>\n        <span id=\"amount_of_workers\" class=\"work-num-element twenty-four_px\"> 600 </span>\n        <button id=\"+\" class=\"work-num-element button nineteen_px\">+</button>\n    </div>\n  </div>\n\n\n<!-- Уверенность --> \n  <div id = \"conf-block\" class = \"card input-color\">\n\n    <div \n        id = \"conf-headline\" \n        class = \"headline text-centered\"> Оцените уверенность \n    </div>\n\n    <div id = \"confidencer\">\n      <form id = \"confidence_form\" class = \"fifthteen_px\">\n\n        <ul class = 'likert'>\n          <li>\n            <input \n              id = \"conf_1\"\n              type = \"radio\" \n              name =\"confidence\" \n              value=\"1\" \n              required>\n            <label> Не уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_2\"\n              type = \"radio\" \n              name = \"confidence\" \n              value=\"2\" \n              required>\n            <label> Скорее не уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_3\"\n              type = \"radio\" \n              name = \"confidence\" \n              value = \"3\" \n              required>\n            <label> Скорее уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_4\"\n              type = \"radio\" \n              name = \"confidence\" \n              value = \"4\" \n              required>\n            <label> Уверен </label>\n          </li>\n        </ul>\n        \n      </form>\n    </div> \n  </div>\n\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы сохранить ответ и перейти дальше\n\n    <!-- Кнопка для сабмита --> \n    <button \n        id = \"submit_button\" \n        style = \"display: none\" \n        type = \"submit\" \n        form = \"confidence_form\">\n    </button>\n    \n</footer>\n\n\n\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "// Синхронизация кол-ва рабочих\nnumber_of_workers = study.parameters.number_of_workers\nvar amount_of_workers = document.getElementById(\"amount_of_workers\");\n\nif (isNaN(number_of_workers)) {\n  amount_of_workers.firstChild.nodeValue = 600\n} else {\n  amount_of_workers.firstChild.nodeValue = number_of_workers\n}\n\n\n// Точки-разделители для тысяч\nfunction number_with_dot(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n}\n\n// Синхронизация уровня производства\nproduction_value = study.parameters.production_value\nvar production_label = document.getElementById(\"production_value\")\n\nif (production_value >= 8000 && production_value <= 10000) {\n    var prod_value = \n        number_with_dot(production_value) + \" (отвечает цели)\"\n    production_label.classList.add(\"dark-green\") \n\n} else {\n    var to_target = \n        production_value > 10000 ? 10000 - production_value : 8000 - production_value\n    var prod_value = \n        number_with_dot(production_value) + \n        \" (\" + \n        number_with_dot(to_target) + \n        \" до цели)\"\n    production_label.classList.add(\"dark-yellow\")  \n}\n\nproduction_label.firstChild.nodeValue = prod_value\n\n\n// Данные для графика\nvar graph_data = study.parameters.graph_data\n\n// Конфигурация графика\nvar spec = {\n  $schema: 'https://vega.github.io/schema/vega-lite/v3.json',\n  data: graph_data,\n  transform: [\n    {'calculate': '7940', \"as\": \"downline\"}, \n    {'calculate': '9890', \"as\": \"upline\"}],\n  zero_title: 2000,\n  width: 400,\n  height: 140,\n  title: {text: 'Производственный график', fontSize: 16, dy: -12},\n  layer: [\n\n   // Прямоугольник, выделяющий целевой уровень производства         \n   {mark: \"rect\",\n    encoding: {\n        \"x\":{ \"value\": 1.5 },\n        \"x2\":{ \"value\": 399.5 },\n        \"y\":{ \"field\": \"upline\" },\n        \"y2\":{ \"field\": \"downline\" } ,\n        \"fill\":{ \"value\": \"#E7F2E7\" },\n        \"stroke\":{ \"value\": \"#E7F2E7\" },\n        \"strokeWidth\":{ \"value\": 1 },\n        \"tooltip\": \n          {\"value\": \"Цель (8 000 – 10 000)\"}}}, \n\n   // Линия, обозначающая нижнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"downline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n\n   // Линия, обозначающая верхнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"upline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n      \n   // График изменения уровня производства     \n   {mark: {\"type\": \"line\", \"point\": {\"size\": 60}},\n    encoding: {\n      x: {\n        field: 'Шаг', \n        type: 'quantitative', \n        scale: {domain: [0, 20]},\n        axis: {titleFontSize: 14, labelFontSize: 12, titlePadding: 12}},\n      y: {\n        field: 'Уровень_производства', \n        type: 'quantitative', \n        scale: {domain: [0, 13000]},\n        axis: {\n          titleFontSize: 14, \n          labelFontSize: 12,  \n          titlePadding: 12,    \n          zindex: 0}},\n        color: {\n    \"condition\": [\n       { \"test\": \n              \"datum['Уровень_производства'] > 7999 && datum['Уровень_производства'] < 10001\", \n          \"value\": \"#3C8327\"},\n        {\"test\": \n              \"datum['Шаг'] == 0\", \n          \"value\": \"gray\"}],\n        \"value\": \"#DC8A0E\"},\n\n      tooltip: [{\n        \"field\": \"Сделанный выбор\", \n        \"type\": \"quantitative\",\n        \"title\": \"Выбор\"}]}}]\n};\n\n\n// Построение графика\nvegaEmbed('#chart', spec, {\"actions\": false}).then(function(res) {\n  res.view.change('table', changeSet).run();\n});\n\n\n// Функция, срабатывающая при достижении максимального/минимального количества рабочих\nfunction showLimit() {\n  amount_of_workers.classList.add(\"workers_amount_animation\")\n  setTimeout(function() { amount_of_workers.classList.remove(\"workers_amount_animation\") }, 600);\n}\n\n// Функция, для изменения значения поля с количеством рабочих\nfunction myFunction(plus) {\n  var amount_of_workers = document.getElementById(\"amount_of_workers\");\n  var number = parseInt(amount_of_workers.innerHTML);\n\n  if (plus === true ) {\n    if (number < 1200) {\n      number = number + 100\n    } else { \n        showLimit()\n     }} \n    \n  else {\n    if (number > 100) {\n      number = number - 100} else { \n        showLimit()\n    }}\n  \n  amount_of_workers.firstChild.nodeValue = number;\n}\n\n// Привязка функции к нажатию на кнопку \"+\"\nconst pl = document.getElementById(\"+\");\npl.addEventListener(\"click\", () => { myFunction(plus = true); });\n\n\n// Привязка функции к нажатию на кнопку \"-\"\nconst ml = document.getElementById(\"-\");\nml.addEventListener(\"click\", () => { myFunction(plus = false); });\n\n\n// Привязка сабмита к enter\nenterPress = function(event) {\n    if (event.code === 'Enter') {\n      var submit_button = document.getElementById(\"submit_button\");\n      submit_button.click()\n  }\n}\n\ndocument.addEventListener('keypress', enterPress, true)\n\n\n"
        },
        {
          "title": "",
          "message": "end",
          "code": "// Очистка/обнуление зависимостей \n// Слушатель enter\ndocument.removeEventListener('keypress', enterPress, true)\n\n// График (иначе тултип остается на следующих страницах)\nlet tooltip = document.getElementById('vg-tooltip-element')\ntooltip.style.display = 'none'\n\n\n// Cохранение выбора кол-ва работников на 1 шаге\nvar amount_of_workers = document.getElementById(\"amount_of_workers\")\nstudy.parameters.number_of_workers = parseInt(amount_of_workers.innerHTML)\n\n\n"
        },
        {
          "title": "",
          "message": "before:prepare",
          "code": "// Данные для отрисвоки графика\nif (typeof(study.parameters.graph_data) == \"undefined\") {\n  study.parameters.graph_data = \n      {\"values\": \n          [{'Сделанный выбор': 600, \n          'Уровень_производства': 6000, \n          'Шаг': 0,\n          'Последний': 1}]}\n}\n\n// Изначалное значение уровня производства\nif (isNaN(study.parameters.production_value)) {\n  study.parameters.production_value = 6000\n}"
        }
      ],
      "title": "screen_attempt_preliminarily",
      "_tab": "Behavior",
      "timeout": "",
      "_template": false
    },
    "7": {
      "id": "7",
      "type": "lab.html.Screen",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [],
      "title": "screen_loader",
      "content": "<main class = \"content-vertical-center content-horizontal-center\">\n  <div class=\"loader\"></div>\n</main>",
      "_tab": "Behavior",
      "timeout": "500"
    },
    "8": {
      "id": "8",
      "type": "lab.html.Screen",
      "files": [],
      "responses": [
        {
          "label": "Enter clicked",
          "event": "keypress",
          "target": "",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "var stage = document.getElementById(\"step\")\nstage.firstChild.nodeValue = \n    this.parameters.step + \n    \"/20 шаг набора\""
        }
      ],
      "title": "screen_prelim_presentation",
      "_tab": "Content",
      "content": "<main class = \"main-layout\">\n    <div class = \"final-choice-card text-lefted\"> \n        <div \n          id = \"step\" \n          class = \"turquoise-light\"> n/20 \n          \n        </div>\n        <div class = \"medium_weight twenty-eight_px turquoise\"> \n              Предварительный выбор\n        </div>\n    </div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Вы перейдёте к выбору через несколько секунд\n</footer>",
      "timeout": "2500"
    },
    "9": {
      "id": "9",
      "type": "lab.flow.Loop",
      "children": [
        "14"
      ],
      "templateParameters": {
        "columns": [
          {
            "name": "step",
            "type": "string"
          }
        ],
        "rows": [
          [
            "1"
          ],
          [
            "2"
          ],
          [
            "3"
          ],
          [
            "4"
          ],
          [
            "5"
          ],
          [
            "6"
          ],
          [
            "7"
          ],
          [
            "8"
          ],
          [
            "9"
          ],
          [
            "10"
          ],
          [
            "11"
          ],
          [
            "12"
          ],
          [
            "13"
          ],
          [
            "14"
          ],
          [
            "15"
          ],
          [
            "16"
          ],
          [
            "17"
          ],
          [
            "18"
          ],
          [
            "19"
          ],
          [
            "20"
          ]
        ]
      },
      "sample": {
        "mode": "sequential"
      },
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "loop_set",
      "_tab": "Content",
      "_collapsed": true
    },
    "12": {
      "id": "12",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "title": "",
          "content": "Вы только что завершили обучающий этап. В ходе этого этапа вы увидели то, как происходит изменение производительности при управлении фабрикой. Это изменение происходит в соотвествии с определенным правилом. Сейчас ваша задача — оценить то, насколько вы усвоили это правило. ㅤ                                    "
        },
        {
          "required": true,
          "type": "slider",
          "attributes": {
            "step": "10",
            "min": "Совершенно непонятно",
            "max": "Всё предельно понятно "
          },
          "name": "rule_understanding",
          "label": "Понимание правила",
          "help": "Ничего непонятно                  Всё предельно понятно"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "page_rule_understanding",
      "_tab": "Content",
      "width": "m"
    },
    "14": {
      "id": "14",
      "type": "lab.flow.Sequence",
      "children": [
        "20",
        "37"
      ],
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "frequence_set_components",
      "_tab": "Behavior",
      "_collapsed": false
    },
    "15": {
      "id": "15",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class=\"header-footer-style\">\n    Финал серии\n</header>\n\n\n<main class=\"main-layout\">\n\n<!-- Элементы вывода -->\n<div class = \"horizontal-section\">\n\n    <!-- График (тут только часть, остальное в Scripts) --> \n    <div id = \"chart-card\" class=\"card output-color horizontal-centered\">\n      <div id = \"chart\"></div>\n    </div>\n\n    <!-- Уровень производства --> \n    <div id = \"prod-level\" class = \"card output-color text-lefted\">\n      <div id = \"prod-level-headline\" class = \"headline\">Уровень производства</div>\n      <div class = \"fifthteen_px\"\"> \n        <span class = \"medium_weight\"> Финальный уровень:</span> \n        <span id = \"production_value\"> 6 000 (+2 000 до цели) </span>\n      </div>\n      <div id = \"target-level-headline\" class = \"fifthteen_px text-lefted\"> \n        <span class = \"medium_weight\"> Цель:</span> \n        8 000 – 10 000\n      </div>\n    </div>\n\n</div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Серия закончена. Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы перейти дальше\n</footer>\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [
        {
          "event": "keypress",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "// Калькуляция финальных резултатов\nstudy.parameters.result = 0\nvar graph_data = study.parameters.graph_data\ngraph_data[\"values\"].forEach((item) => {\n  if \n    (item.Уровень_производства >= 8000 && \n    item.Уровень_производства <= 10000) {\n        study.parameters.result = ++study.parameters.result}});\n\n\n// Точки-разделители для тысяч\nfunction number_with_dot(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n}\n\n// Синхронизация уровня производства\nproduction_value = study.parameters.production_value\nvar production_label = document.getElementById(\"production_value\")\n\nif (production_value >= 8000 && production_value <= 10000) {\n    var prod_value = \n        number_with_dot(production_value) + \" (отвечает цели)\"\n    production_label.classList.add(\"dark-green\") \n\n} else {\n    var to_target = \n        production_value > 10000 ? 10000 - production_value : 8000 - production_value\n    var prod_value = \n        number_with_dot(production_value) + \n        \" (\" + \n        number_with_dot(to_target) + \n        \" до цели)\"\n    production_label.classList.add(\"dark-yellow\")  \n}\n\nproduction_label.firstChild.nodeValue = prod_value\n\n\n// Данные для графика\nvar graph_data = study.parameters.graph_data\n\n// Конфигурация графика\nvar spec = {\n  $schema: 'https://vega.github.io/schema/vega-lite/v3.json',\n  data: graph_data,\n  transform: [\n    {'calculate': '7940', \"as\": \"downline\"}, \n    {'calculate': '9890', \"as\": \"upline\"}],\n  zero_title: 2000,\n  width: 400,\n  height: 140,\n  title: {text: 'Производственный график', fontSize: 16, dy: -12},\n  layer: [\n\n   // Прямоугольник, выделяющий целевой уровень производства         \n   {mark: \"rect\",\n    encoding: {\n        \"x\":{ \"value\": 1.5 },\n        \"x2\":{ \"value\": 399.5 },\n        \"y\":{ \"field\": \"upline\" },\n        \"y2\":{ \"field\": \"downline\" } ,\n        \"fill\":{ \"value\": \"#E7F2E7\" },\n        \"stroke\":{ \"value\": \"#E7F2E7\" },\n        \"strokeWidth\":{ \"value\": 1 },\n        \"tooltip\": \n          {\"value\": \"Цель (8.000 – 10.000)\"}}}, \n\n   // Линия, обозначающая нижнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"downline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n\n   // Линия, обозначающая верхнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"upline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n      \n   // График изменения уровня производства     \n   {mark: {\"type\": \"line\", \"point\": {\"size\": 60}},\n    encoding: {\n      x: {\n        field: 'Шаг', \n        type: 'quantitative', \n        scale: {domain: [0, 20]},\n        axis: {titleFontSize: 14, labelFontSize: 12, titlePadding: 12}},\n      y: {\n        field: 'Уровень_производства', \n        type: 'quantitative', \n        scale: {domain: [0, 13000]},\n        axis: {\n          titleFontSize: 14, \n          labelFontSize: 12,  \n          titlePadding: 12,    \n          zindex: 0}},\n        color: {\n    \"condition\": [\n       { \"test\": \n              \"datum['Уровень_производства'] > 7999 && datum['Уровень_производства'] < 10001\", \n          \"value\": \"#3C8327\"},\n        {\"test\": \n              \"datum['Шаг'] == 0\", \n          \"value\": \"gray\"}],\n        \"value\": \"#DC8A0E\"},\n\n      tooltip: [{\n        \"field\": \"Сделанный выбор\", \n        \"type\": \"quantitative\",\n        \"title\": \"Выбор\"}]}}]\n};\n\n\n// Построение графика\nvegaEmbed('#chart', spec, {\"actions\": false}).then(function(res) {\n  res.view.change('table', changeSet).run();\n});\n\n"
        },
        {
          "title": "",
          "message": "end",
          "code": "// Очистка графика (иначе тултип остается на следующих страницах)\nlet tooltip = document.getElementById('vg-tooltip-element')\ntooltip.style.display = 'none'\n\n\n// Продуктивность последнего этапа\nstudy.parameters.last_stage_productivity = \n    study.parameters.result / \n    (study.parameters.graph_data[\"values\"].length - 1)\n\n\n// Подсчет глобальных результатов\nif (typeof(study.parameters.global_results) == \"undefined\") {\n  study.parameters.global_results = 0\n  study.parameters.global_attempts = 0\n}\n\n\n// Общее количество соответсвий\nstudy.parameters.global_results += study.parameters.result\n\n// Общее количество попыток\nstudy.parameters.global_attempts +=\n    study.parameters.graph_data[\"values\"].length - 1\n\n// Общая продуктивность\nstudy.parameters.global_productivity = \n    study.parameters.global_results / study.parameters.global_attempts\n\n\n// Обнуление фабрики перед новой серии\nif (this.parameters.last_step) {\n  study.parameters.graph_data = \n      {\"values\": \n          [{'Сделанный выбор': 600, \n          'Уровень_производства': 6000, \n          'Шаг': 0,\n          'Последний': 1}]}\n  study.parameters.production_value = 6000\n}\n\nstudy.parameters.number_of_workers = 600\n\n\n// Данные для отрисовки графика продуктивности\nif (typeof(study.parameters.prod_graph_data) == \"undefined\") {\n  var step = 1\n  study.parameters.prod_graph_data = { \"values\": [] }\n} else {\n  var step = study.parameters.prod_graph_data[\"values\"].length + 1\n}\n\nstudy.parameters.prod_graph_data[\"values\"].push({\n  'Этап': \"Финальная серия\", \n  'Продуктивность': study.parameters.last_stage_productivity, \n  'Номер серии': step})\n"
        }
      ],
      "title": "form_results",
      "_tab": "Scripts",
      "timeout": ""
    },
    "17": {
      "id": "17",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "<h4 style=\"text-align: left;\">Благодарим Вас за участие в эксперименте! Надеемся, что Вам понравилось и Вы приобрели полезный опыт в совместной работе!</h4>\n<h4 style=\"text-align: left;\"><strong></strong></h4>\n<h4 style=\"text-align: left;\"><strong></strong></h4>\n<p></p>"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Завершить →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "page_goodbye"
    },
    "19": {
      "id": "19",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "<span style=\"text-align: center; font-size: 28px\"><strong>Обучающий этап</strong></span>\n<p style=\"font-size: 2px\">&nbsp;</p>\n\n<p>Вы управляете сахарной фабрикой: следите за количеством произведенного сахара и устанавливаете количество рабочих на каждый день. <span style=\"color: #333399;\"><strong>Ваша главная задача &ndash; достичь и поддерживать целевой объем производства от 8000 до 10.000 тонн.</strong></span> Начальный уровень производства &ndash; 6000 тонн, а количество рабочих &ndash; 600 человек. В одном испытании можно нанять от 100 до 1200 рабочих. У Вас будет 20 попыток, чтобы прийти к ожидаемому уровню производства, а после поддерживать его в целевом диапазоне до конца серии.</p>\n<p> Нажмите  <kbd> Далее→ </kbd>, чтобы начать</p>"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [],
      "title": "page_instruction",
      "_tab": "Content"
    },
    "20": {
      "id": "20",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class=\"header-footer-style\">\n    ${this.parameters.step}/20 шаг серии\n</header>\n\n<main class=\"main-layout\">\n<!-- Элементы вывода -->\n<div class = \"horizontal-section\">\n\n\n  <!-- График (тут только часть, остальное в Scripts) --> \n  <div id = \"chart-card\" class=\"card output-color horizontal-centered\">\n    <div id = \"chart\"></div>\n  </div>\n\n\n  <!-- Уровень производства + Предварительный выбор -->\n  <div id = \"info-section-col\">\n    <!-- Уровень производства --> \n    <div id \"prod-level\" class = \"card output-color text-lefted\">\n      <div id = \"prod-level-headline\" class = \"headline\">Уровень производства</div>\n      <div class = \"fifthteen_px\"\"> \n        <span class = \"medium_weight\">Текущий уровень:</span> \n        <span id = \"production_value\"> 6 000 (+2 000 до цели) </span>\n      </div>\n      <div id = \"target-level-headline\" class = \"fifthteen_px text-lefted\"> \n        <span class = \"medium_weight\"> Цель:</span> \n        8 000 – 10 000\n      </div>\n    </div>\n\n  </div>\n</div>\n\n\n<!-- Элементы ввода --> \n<div class = \"horizontal-section\">\n  <!-- Выбор количества рабочих (тут только часть, логика изменения в Scripts) --> \n  <div id = \"workers-num-block\" class = \"card input-color vertical-centered\">\n    <p class = \"headline\"> Выберите количество рабочих </p>\n    <div class = \"horizontal-centered\">\n        <button id = \"-\" class = \"work-num-element button nineteen_px\">-</button>\n        <span id=\"amount_of_workers\" class=\"work-num-element twenty-four_px\"> 600 </span>\n        <button id=\"+\" class=\"work-num-element button nineteen_px\">+</button>\n    </div>\n  </div>\n\n\n<!-- Уверенность --> \n  <div id = \"conf-block\" class = \"card input-color\">\n\n    <div \n        id = \"conf-headline\" \n        class = \"headline text-centered\"> Оцените уверенность \n    </div>\n\n    <div id = \"confidencer\">\n      <form id = \"confidence_form\" class = \"fifthteen_px\">\n\n        <ul class = 'likert'>\n          <li>\n            <input \n              id = \"conf_1\"\n              type = \"radio\" \n              name =\"confidence\" \n              value=\"1\" \n              required>\n            <label> Не уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_2\"\n              type = \"radio\" \n              name = \"confidence\" \n              value=\"2\" \n              required>\n            <label> Скорее не уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_3\"\n              type = \"radio\" \n              name = \"confidence\" \n              value = \"3\" \n              required>\n            <label> Скорее уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_4\"\n              type = \"radio\" \n              name = \"confidence\" \n              value = \"4\" \n              required>\n            <label> Уверен </label>\n          </li>\n        </ul>\n        \n      </form>\n    </div> \n  </div>\n\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы сохранить ответ и перейти дальше\n\n    <!-- Кнопка для сабмита --> \n    <button \n        id = \"submit_button\" \n        style = \"display: none\" \n        type = \"submit\" \n        form = \"confidence_form\">\n    </button>\n    \n</footer>\n\n\n\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "// Синхронизация кол-ва рабочих\nnumber_of_workers = study.parameters.number_of_workers\nvar amount_of_workers = document.getElementById(\"amount_of_workers\");\n\nif (isNaN(number_of_workers)) {\n  amount_of_workers.firstChild.nodeValue = 600\n} else {\n  amount_of_workers.firstChild.nodeValue = number_of_workers\n}\n\n\n// Точки-разделители для тысяч\nfunction number_with_dot(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n}\n\n// Синхронизация уровня производства\nproduction_value = study.parameters.production_value\nvar production_label = document.getElementById(\"production_value\")\n\nif (production_value >= 8000 && production_value <= 10000) {\n    var prod_value = \n        number_with_dot(production_value) + \" (отвечает цели)\"\n    production_label.classList.add(\"dark-green\") \n\n} else {\n    var to_target = \n        production_value > 10000 ? 10000 - production_value : 8000 - production_value\n    var prod_value = \n        number_with_dot(production_value) + \n        \" (\" + \n        number_with_dot(to_target) + \n        \" до цели)\"\n    production_label.classList.add(\"dark-yellow\")  \n}\n\nproduction_label.firstChild.nodeValue = prod_value\n\n// Данные для графика\nvar graph_data = study.parameters.graph_data\n\n// Конфигурация графика\nvar spec = {\n  $schema: 'https://vega.github.io/schema/vega-lite/v3.json',\n  data: graph_data,\n  transform: [\n    {'calculate': '7940', \"as\": \"downline\"}, \n    {'calculate': '9890', \"as\": \"upline\"}],\n  zero_title: 2000,\n  width: 400,\n  height: 140,\n  title: {text: 'Производственный график', fontSize: 16, dy: -12},\n  layer: [\n\n   // Прямоугольник, выделяющий целевой уровень производства         \n   {mark: \"rect\",\n    encoding: {\n        \"x\":{ \"value\": 1.5 },\n        \"x2\":{ \"value\": 399.5 },\n        \"y\":{ \"field\": \"upline\" },\n        \"y2\":{ \"field\": \"downline\" } ,\n        \"fill\":{ \"value\": \"#E7F2E7\" },\n        \"stroke\":{ \"value\": \"#E7F2E7\" },\n        \"strokeWidth\":{ \"value\": 1 },\n        \"tooltip\": \n          {\"value\": \"Цель (8 000 – 10 000)\"}}}, \n\n   // Линия, обозначающая нижнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"downline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n\n   // Линия, обозначающая верхнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"upline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n      \n   // График изменения уровня производства     \n   {mark: {\"type\": \"line\", \"point\": {\"size\": 60}},\n    encoding: {\n      x: {\n        field: 'Шаг', \n        type: 'quantitative', \n        scale: {domain: [0, 20]},\n        axis: {titleFontSize: 14, labelFontSize: 12, titlePadding: 12}},\n      y: {\n        field: 'Уровень_производства', \n        type: 'quantitative', \n        scale: {domain: [0, 13000]},\n        axis: {\n          titleFontSize: 14, \n          labelFontSize: 12,  \n          titlePadding: 12,    \n          zindex: 0}},\n        color: {\n    \"condition\": [\n       { \"test\": \n              \"datum['Уровень_производства'] > 7999 && datum['Уровень_производства'] < 10001\", \n          \"value\": \"#3C8327\"},\n        {\"test\": \n              \"datum['Шаг'] == 0\", \n          \"value\": \"gray\"}],\n        \"value\": \"#DC8A0E\"},\n\n      tooltip: [{\n        \"field\": \"Сделанный выбор\", \n        \"type\": \"quantitative\",\n        \"title\": \"Выбор\"}]}}]\n};\n\n\n// Построение графика\nvegaEmbed('#chart', spec, {\"actions\": false}).then(function(res) {\n  res.view.change('table', changeSet).run();\n});\n\n\n// Функция, срабатывающая при достижении максимального/минимального количества рабочих\nfunction showLimit() {\n  amount_of_workers.classList.add(\"workers_amount_animation\")\n  setTimeout(function() { amount_of_workers.classList.remove(\"workers_amount_animation\") }, 600);\n}\n\n// Функция, для изменения значения поля с количеством рабочих\nfunction myFunction(plus) {\n  var amount_of_workers = document.getElementById(\"amount_of_workers\");\n  var number = parseInt(amount_of_workers.innerHTML);\n\n  if (plus === true ) {\n    if (number < 1200) {\n      number = number + 100\n    } else { \n        showLimit()\n     }} \n    \n  else {\n    if (number > 100) {\n      number = number - 100} else { \n        showLimit()\n    }}\n  \n  amount_of_workers.firstChild.nodeValue = number;\n}\n\n// Привязка функции к нажатию на кнопку \"+\"\nconst pl = document.getElementById(\"+\");\npl.addEventListener(\"click\", () => { myFunction(plus = true); });\n\n\n// Привязка функции к нажатию на кнопку \"-\"\nconst ml = document.getElementById(\"-\");\nml.addEventListener(\"click\", () => { myFunction(plus = false); });\n\n\n// Привязка сабмита к enter\nenterPress = function(event) {\n    if (event.code === 'Enter') {\n      var submit_button = document.getElementById(\"submit_button\");\n      submit_button.click()\n  }\n}\n\ndocument.addEventListener('keypress', enterPress, true)\n\n\n\n\n"
        },
        {
          "title": "",
          "message": "end",
          "code": "// Очистка слушателя enter\ndocument.removeEventListener('keypress', enterPress, true)\n\n// Очистка графика (иначе тултип остается на следующих страницах)\nlet tooltip = document.getElementById('vg-tooltip-element')\ntooltip.style.display = 'none'\n\n\n// Cохранение выбора кол-ва работников\nvar amount_of_workers = document.getElementById(\"amount_of_workers\")\nstudy.parameters.number_of_workers = \n  parseInt(amount_of_workers.innerHTML)\n\n\n// Рандомайзер\nfunction randomInteger(min, max) {\n  let rand = min + Math.random() * (max + 1 - min);\n  return Math.floor(rand)}\n\n// Подсчет производительности следующего шага\nrandom_value = randomInteger(-1, 1)\nstudy.parameters.production_value = ((2*study.parameters.number_of_workers/100 \n  - study.parameters.production_value/1000\n  + random_value)\n  * 1000)\n\n// Приведение производительности к границам 1000:12000\nif (study.parameters.production_value > 12000) {\n  study.parameters.production_value = 12000\n} else if (study.parameters.production_value < 1000) {\n  study.parameters.production_value = 1000\n}\n\n\n// Конфигурация графика\nvar graph_data = study.parameters.graph_data\ngraph_data[\"values\"].forEach((item) => item.Последний = '0');\n\ngraph_data[\"values\"].push({\n   'Сделанный выбор': study.parameters.number_of_workers, \n   'Уровень_производства': study.parameters.production_value, \n   'Шаг': graph_data[\"values\"].length,\n   'Последний': 1 });\n\n"
        },
        {
          "title": "",
          "message": "before:prepare",
          "code": "// Данные для отрисвоки графика\nif (typeof(study.parameters.graph_data) == \"undefined\") {\n  study.parameters.graph_data = \n      {\"values\": \n          [{'Сделанный выбор': 600, \n          'Уровень_производства': 6000, \n          'Шаг': 0,\n          'Последний': 1}]}\n}\n\n// Изначалное значение уровня производства\nif (isNaN(study.parameters.production_value)) {\n  study.parameters.production_value = 6000\n}"
        }
      ],
      "title": "screen_attempt",
      "_tab": "Scripts"
    },
    "22": {
      "id": "22",
      "type": "lab.flow.Sequence",
      "children": [
        "19",
        "32",
        "44"
      ],
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "LEARNING_STAGE",
      "_collapsed": true,
      "_tab": "Scripts",
      "skip": false
    },
    "25": {
      "id": "25",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "<h4 style=\"text-align: left;\"><strong>Спасибо за проделанную работу! </strong></h4>\n<p style=\"text-align: left;\">Последним этапом будет небольшая форма о взаимодействии с напарником и проверка полученного опыта.</p>\n<p style=\"text-align: left;\"></p>\n<p style=\"text-align: left;\">Нажмите <kbd> Далее→ </kbd></p>\n<h4 style=\"text-align: left;\"></h4>\n<h4 style=\"text-align: left;\"></h4>\n<h4 style=\"text-align: left;\"></h4>\n<p></p>"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее→",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "page_interview_bridge"
    },
    "26": {
      "id": "26",
      "type": "lab.flow.Sequence",
      "children": [
        "73",
        "122",
        "68",
        "52"
      ],
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "STAGE_WITH_PARTNER",
      "_collapsed": true
    },
    "28": {
      "id": "28",
      "type": "lab.flow.Loop",
      "children": [
        "29"
      ],
      "templateParameters": {
        "columns": [
          {
            "name": "step",
            "type": "string"
          }
        ],
        "rows": [
          [
            "1"
          ],
          [
            "2"
          ],
          [
            "3"
          ],
          [
            "4"
          ],
          [
            "5"
          ],
          [
            "6"
          ],
          [
            "7"
          ],
          [
            "8"
          ],
          [
            "9"
          ],
          [
            "10"
          ],
          [
            "11"
          ],
          [
            "12"
          ],
          [
            "13"
          ],
          [
            "14"
          ],
          [
            "15"
          ],
          [
            "16"
          ],
          [
            "17"
          ],
          [
            "18"
          ],
          [
            "19"
          ],
          [
            "20"
          ]
        ]
      },
      "sample": {
        "mode": "sequential"
      },
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "loop_set",
      "_tab": "Scripts",
      "_collapsed": true
    },
    "29": {
      "id": "29",
      "type": "lab.flow.Sequence",
      "children": [
        "38",
        "39"
      ],
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "sequence_set_components",
      "_tab": "Scripts",
      "_collapsed": false
    },
    "32": {
      "id": "32",
      "type": "lab.flow.Loop",
      "children": [
        "33"
      ],
      "templateParameters": {
        "columns": [
          {
            "name": "stage",
            "type": "string"
          }
        ],
        "rows": [
          [
            "Обучающая серия №1"
          ],
          [
            "Обучающая серия №2"
          ]
        ]
      },
      "sample": {
        "mode": "sequential"
      },
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "loop_series_main_part",
      "_collapsed": true,
      "_tab": "Content"
    },
    "33": {
      "id": "33",
      "type": "lab.flow.Sequence",
      "children": [
        "40",
        "28",
        "41"
      ],
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "sequence_series_components",
      "_collapsed": false,
      "_tab": "Content"
    },
    "34": {
      "id": "34",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "title": "",
          "content": "<span style=\"text-align: center; font-size: 28px\"><strong>Сведения об участнике</strong></span>\n<p style=\"font-size: 2px\">&nbsp;</p>\n\nПожалуйста, укажите Ваши <strong>возраст </strong>и&nbsp;<strong>пол</strong>. Все данные анонимизируются.\n\n<p style=\"font-size: 5px\">&nbsp;</p>"
        },
        {
          "required": true,
          "type": "input",
          "label": "Возраст",
          "help": "",
          "attributes": {
            "type": "number",
            "min": "18",
            "max": "26"
          },
          "name": "subject_age"
        },
        {
          "required": true,
          "type": "radio",
          "label": "Пол",
          "options": [
            {
              "label": "Женский",
              "coding": "f"
            },
            {
              "label": "Мужской",
              "coding": "m"
            }
          ],
          "name": "subject_sex"
        },
        {
          "required": true,
          "type": "text",
          "content": "<p _msthash=\"170606\" _msttexthash=\"29039712\"><span style=\"color: #333399;\"><strong>Если вы готовы продолжить, нажмите <kbd>Далее&rarr;</kbd></strong></span></p>"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "page_participant_form",
      "_tab": "Behavior",
      "skip": false,
      "width": "l"
    },
    "37": {
      "id": "37",
      "type": "lab.html.Screen",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [],
      "title": "screen_loader",
      "content": "<main class = \"content-vertical-center content-horizontal-center\">\n  <div class=\"loader\"></div>\n</main>",
      "_tab": "Content",
      "timeout": "500"
    },
    "38": {
      "id": "38",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class=\"header-footer-style\">\n    ${this.parameters.step}/20 шаг серии\n</header>\n\n<main class=\"main-layout\">\n<!-- Элементы вывода -->\n<div class = \"horizontal-section\">\n\n\n  <!-- График (тут только часть, остальное в Scripts) --> \n  <div id = \"chart-card\" class=\"card output-color horizontal-centered\">\n    <div id = \"chart\"></div>\n  </div>\n\n\n  <!-- Уровень производства + Предварительный выбор -->\n  <div id = \"info-section-col\">\n    <!-- Уровень производства --> \n    <div id \"prod-level\" class = \"card output-color text-lefted\">\n      <div id = \"prod-level-headline\" class = \"headline\">Уровень производства</div>\n      <div class = \"fifthteen_px\"\"> \n        <span class = \"medium_weight\">Текущий уровень:</span> \n        <span id = \"production_value\"> 6 000 (+2 000 до цели) </span>\n      </div>\n      <div id = \"target-level-headline\" class = \"fifthteen_px text-lefted\"> \n        <span class = \"medium_weight\"> Цель:</span> \n        8 000 – 10 000\n      </div>\n    </div>\n\n  </div>\n</div>\n\n\n<!-- Элементы ввода --> \n<div class = \"horizontal-section\">\n  <!-- Выбор количества рабочих (тут только часть, логика изменения в Scripts) --> \n  <div id = \"workers-num-block\" class = \"card input-color vertical-centered\">\n    <p class = \"headline\"> Выберите количество рабочих </p>\n    <div class = \"horizontal-centered\">\n        <button id = \"-\" class = \"work-num-element button nineteen_px\">-</button>\n        <span id=\"amount_of_workers\" class=\"work-num-element twenty-four_px\"> 600 </span>\n        <button id=\"+\" class=\"work-num-element button nineteen_px\">+</button>\n    </div>\n  </div>\n\n\n<!-- Уверенность --> \n  <div id = \"conf-block\" class = \"card input-color\">\n\n    <div \n        id = \"conf-headline\" \n        class = \"headline text-centered\"> Оцените уверенность \n    </div>\n\n    <div id = \"confidencer\">\n      <form id = \"confidence_form\" class = \"fifthteen_px\">\n\n        <ul class = 'likert'>\n          <li>\n            <input \n              id = \"conf_1\"\n              type = \"radio\" \n              name =\"confidence\" \n              value=\"1\" \n              required>\n            <label> Не уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_2\"\n              type = \"radio\" \n              name = \"confidence\" \n              value=\"2\" \n              required>\n            <label> Скорее не уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_3\"\n              type = \"radio\" \n              name = \"confidence\" \n              value = \"3\" \n              required>\n            <label> Скорее уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_4\"\n              type = \"radio\" \n              name = \"confidence\" \n              value = \"4\" \n              required>\n            <label> Уверен </label>\n          </li>\n        </ul>\n        \n      </form>\n    </div> \n  </div>\n\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы сохранить ответ и перейти дальше\n\n    <!-- Кнопка для сабмита --> \n    <button \n        id = \"submit_button\" \n        style = \"display: none\" \n        type = \"submit\" \n        form = \"confidence_form\">\n    </button>\n    \n</footer>\n\n\n\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "// Синхронизация кол-ва рабочих\nnumber_of_workers = study.parameters.number_of_workers\nvar amount_of_workers = document.getElementById(\"amount_of_workers\");\n\nif (isNaN(number_of_workers)) {\n  amount_of_workers.firstChild.nodeValue = 600\n} else {\n  amount_of_workers.firstChild.nodeValue = number_of_workers\n}\n\n\n// Точки-разделители для тысяч\nfunction number_with_dot(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n}\n\n// Синхронизация уровня производства\nproduction_value = study.parameters.production_value\nvar production_label = document.getElementById(\"production_value\")\n\nif (production_value >= 8000 && production_value <= 10000) {\n    var prod_value = \n        number_with_dot(production_value) + \" (отвечает цели)\"\n    production_label.classList.add(\"dark-green\") \n\n} else {\n    var to_target = \n        production_value > 10000 ? 10000 - production_value : 8000 - production_value\n    var prod_value = \n        number_with_dot(production_value) + \n        \" (\" + \n        number_with_dot(to_target) + \n        \" до цели)\"\n    production_label.classList.add(\"dark-yellow\")  \n}\n\nproduction_label.firstChild.nodeValue = prod_value\n\n// Данные для графика\nvar graph_data = study.parameters.graph_data\n\n// Конфигурация графика\nvar spec = {\n  $schema: 'https://vega.github.io/schema/vega-lite/v3.json',\n  data: graph_data,\n  transform: [\n    {'calculate': '7940', \"as\": \"downline\"}, \n    {'calculate': '9890', \"as\": \"upline\"}],\n  zero_title: 2000,\n  width: 400,\n  height: 140,\n  title: {text: 'Производственный график', fontSize: 16, dy: -12},\n  layer: [\n\n   // Прямоугольник, выделяющий целевой уровень производства         \n   {mark: \"rect\",\n    encoding: {\n        \"x\":{ \"value\": 1.5 },\n        \"x2\":{ \"value\": 399.5 },\n        \"y\":{ \"field\": \"upline\" },\n        \"y2\":{ \"field\": \"downline\" } ,\n        \"fill\":{ \"value\": \"#E7F2E7\" },\n        \"stroke\":{ \"value\": \"#E7F2E7\" },\n        \"strokeWidth\":{ \"value\": 1 },\n        \"tooltip\": \n          {\"value\": \"Цель (8 000 – 10 000)\"}}}, \n\n   // Линия, обозначающая нижнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"downline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n\n   // Линия, обозначающая верхнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"upline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n      \n   // График изменения уровня производства     \n   {mark: {\"type\": \"line\", \"point\": {\"size\": 60}},\n    encoding: {\n      x: {\n        field: 'Шаг', \n        type: 'quantitative', \n        scale: {domain: [0, 20]},\n        axis: {titleFontSize: 14, labelFontSize: 12, titlePadding: 12}},\n      y: {\n        field: 'Уровень_производства', \n        type: 'quantitative', \n        scale: {domain: [0, 13000]},\n        axis: {\n          titleFontSize: 14, \n          labelFontSize: 12,  \n          titlePadding: 12,    \n          zindex: 0}},\n        color: {\n    \"condition\": [\n       { \"test\": \n              \"datum['Уровень_производства'] > 7999 && datum['Уровень_производства'] < 10001\", \n          \"value\": \"#3C8327\"},\n        {\"test\": \n              \"datum['Шаг'] == 0\", \n          \"value\": \"gray\"}],\n        \"value\": \"#DC8A0E\"},\n\n      tooltip: [{\n        \"field\": \"Сделанный выбор\", \n        \"type\": \"quantitative\",\n        \"title\": \"Выбор\"}]}}]\n};\n\nstudy.parameters.spec = spec\n\n// Построение графика\nvegaEmbed('#chart', spec, {\"actions\": false}).then(function(res) {\n  res.view.change('table', changeSet).run();\n})\n\n\n// Функция, срабатывающая при достижении максимального/минимального количества рабочих\nfunction showLimit() {\n  amount_of_workers.classList.add(\"workers_amount_animation\")\n  setTimeout(function() { amount_of_workers.classList.remove(\"workers_amount_animation\") }, 600);\n}\n\n// Функция, для изменения значения поля с количеством рабочих\nfunction myFunction(plus) {\n  var amount_of_workers = document.getElementById(\"amount_of_workers\");\n  var number = parseInt(amount_of_workers.innerHTML);\n\n  if (plus === true ) {\n    if (number < 1200) {\n      number = number + 100\n    } else { \n        showLimit()\n     }} \n    \n  else {\n    if (number > 100) {\n      number = number - 100} else { \n        showLimit()\n    }}\n  \n  amount_of_workers.firstChild.nodeValue = number;\n}\n\n// Привязка функции к нажатию на кнопку \"+\"\nconst pl = document.getElementById(\"+\");\npl.addEventListener(\"click\", () => { myFunction(plus = true); });\n\n\n// Привязка функции к нажатию на кнопку \"-\"\nconst ml = document.getElementById(\"-\");\nml.addEventListener(\"click\", () => { myFunction(plus = false); });\n\n\n// Привязка сабмита к enter\nenterPress = function(event) {\n    if (event.code === 'Enter') {\n      var submit_button = document.getElementById(\"submit_button\");\n      submit_button.click()\n  }\n}\n\ndocument.addEventListener('keypress', enterPress, true)\n\n\n\n\n"
        },
        {
          "title": "",
          "message": "end",
          "code": "// Очистка слушателя enter\ndocument.removeEventListener('keypress', enterPress, true)\n\n// Очистка графика (иначе тултип остается на следующих страницах)\nlet tooltip = document.getElementById('vg-tooltip-element')\ntooltip.style.display = 'none'\n\n\n// Cохранение выбора кол-ва работников\nvar amount_of_workers = document.getElementById(\"amount_of_workers\")\nstudy.parameters.number_of_workers = \n  parseInt(amount_of_workers.innerHTML)\n\n\n// Рандомайзер\nfunction randomInteger(min, max) {\n  let rand = min + Math.random() * (max + 1 - min);\n  return Math.floor(rand)}\n\n// Подсчет производительности следующего шага\nrandom_value = randomInteger(-1, 1)\nstudy.parameters.production_value = ((2*study.parameters.number_of_workers/100 \n  - study.parameters.production_value/1000\n  + random_value)\n  * 1000)\n\n// Приведение производительности к границам 1000:12000\nif (study.parameters.production_value > 12000) {\n  study.parameters.production_value = 12000\n} else if (study.parameters.production_value < 1000) {\n  study.parameters.production_value = 1000\n}\n\n\n// Конфигурация графика\nvar graph_data = study.parameters.graph_data\ngraph_data[\"values\"].forEach((item) => item.Последний = '0');\n\ngraph_data[\"values\"].push({\n   'Сделанный выбор': study.parameters.number_of_workers, \n   'Уровень_производства': study.parameters.production_value, \n   'Шаг': graph_data[\"values\"].length,\n   'Последний': 1 });\n\n\n// Обнуление фабрики перед новой серией\nif (this.parameters.step == 20) {\n  study.parameters.last_step = true\n} else {\n  study.parameters.last_step = false\n}\n\n\n\n"
        },
        {
          "title": "",
          "message": "before:prepare",
          "code": "// Данные для отрисовки графика\nif (typeof(study.parameters.graph_data) == \"undefined\") {\n  study.parameters.graph_data = \n      {\"values\": \n          [{'Сделанный выбор': 600, \n          'Уровень_производства': 6000, \n          'Шаг': 0,\n          'Последний': 1}]}\n}\n\n// Изначалное значение уровня производства\nif (isNaN(study.parameters.production_value)) {\n  study.parameters.production_value = 6000\n}"
        }
      ],
      "title": "screen_attempt",
      "_tab": "Scripts"
    },
    "39": {
      "id": "39",
      "type": "lab.html.Screen",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [],
      "title": "screen_loader",
      "content": "<main class = \"content-vertical-center content-horizontal-center\">\n  <div class=\"loader\"></div>\n</main>",
      "_tab": "Scripts",
      "timeout": "500"
    },
    "40": {
      "id": "40",
      "type": "lab.html.Screen",
      "files": [],
      "responses": [
        {
          "label": "Enter clicked",
          "event": "keypress",
          "target": "",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "var stage = document.getElementById(\"stage-title\")\nstage.firstChild.nodeValue = this.parameters.stage"
        }
      ],
      "title": "screen_set_presentation",
      "content": "<main class = \"light-gray main-layout\">\n    <div class = \"present-card text-lefted\"> \n        <div class = \"gray\"> Текущй этап </div>\n        <div \n          id = \"stage-title\" \n          class = \"medium_weight twenty-eight_px\"> \n              Обучающая серия №1 \n        </div>\n    </div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Вы перейдёте к заданию через несколько секунд\n</footer>",
      "_tab": "Scripts",
      "timeout": "4000"
    },
    "41": {
      "id": "41",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class=\"header-footer-style\">\n    Финал серии\n</header>\n\n\n<main class=\"main-layout\">\n  \n<!-- Элементы вывода -->\n<div class = \"horizontal-section\">\n\n    <!-- График (тут только часть, остальное в Scripts) --> \n    <div id = \"chart-card\" class=\"card output-color horizontal-centered\">\n      <div id = \"chart\"></div>\n    </div>\n\n  <!-- Уровень производства + Совет -->\n  <div id = \"advice-section-col\">\n\n    <!-- Уровень производства --> \n    <div id = \"prod-level-final\" class = \"card output-color text-lefted\">\n      \n      <div id = \"prod-level-headline\" class = \"headline\">\n        Уровень производства\n      </div>\n\n      <div class = \"fifthteen_px\"\"> \n        <span class = \"medium_weight\"> Финальный уровень: </span> \n        <span id = \"production_value\"> 6 000 (+2 000 до цели) </span>\n      </div>\n\n      <div id = \"target-level-headline\" class = \"fifthteen_px text-lefted\"> \n        <span class = \"medium_weight\"> Цель:</span> \n        8 000 – 10 000\n      </div>\n\n    </div>\n\n    <!-- Совет --> \n    <div id = \"advice-card\" class = \"card text-lefted\">\n      \n      <div id = \"prod-level-headline\" class = \"headline\">\n        Совет\n      </div>\n\n      <div id = \"advice-text\" class = \"fifthteen_px\"> \n        Наведя курсор на точку графика, можно изучить, то как выбор количества рабочих отражается на производительности\n      </div>\n\n    </div>\n  </div>\n\n</div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Серия закончена. Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы перейти дальше\n</footer>\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [
        {
          "event": "keypress",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "// Делаем так, чтобы совет показывался только на первой серии\nlet advice_card = document.getElementById('advice-card')\nif (this.parameters.stage != \"Обучающая серия №1\") { \n  advice_card.style.visibility = \"hidden\"\n}\n\n\n// Калькуляция финальных резултатов\nstudy.parameters.result = 0\nvar graph_data = study.parameters.graph_data\ngraph_data[\"values\"].forEach((item) => {\n  if \n    (item.Уровень_производства >= 8000 && \n    item.Уровень_производства <= 10000) {\n        study.parameters.result = ++study.parameters.result}});\n\n\n// Точки-разделители для тысяч\nfunction number_with_dot(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n}\n\n// Синхронизация уровня производства\nproduction_value = study.parameters.production_value\nvar production_label = document.getElementById(\"production_value\")\n\nif (production_value >= 8000 && production_value <= 10000) {\n    var prod_value = \n        number_with_dot(production_value) + \" (отвечает цели)\"\n    production_label.classList.add(\"dark-green\") \n\n} else {\n    var to_target = \n        production_value > 10000 ? 10000 - production_value : 8000 - production_value\n    var prod_value = \n        number_with_dot(production_value) + \n        \" (\" + \n        number_with_dot(to_target) + \n        \" до цели)\"\n    production_label.classList.add(\"dark-yellow\")  \n}\n\nproduction_label.firstChild.nodeValue = prod_value\n\n\n// Данные для графика\nvar graph_data = study.parameters.graph_data\n\n// Конфигурация графика\nvar spec = {\n  $schema: 'https://vega.github.io/schema/vega-lite/v3.json',\n  data: graph_data,\n  transform: [\n    {'calculate': '7940', \"as\": \"downline\"}, \n    {'calculate': '9890', \"as\": \"upline\"}],\n  zero_title: 2000,\n  width: 400,\n  height: 165,\n  title: {text: 'Производственный график', fontSize: 16, dy: -12},\n  layer: [\n\n   // Прямоугольник, выделяющий целевой уровень производства         \n   {mark: \"rect\",\n    encoding: {\n        \"x\":{ \"value\": 1.5 },\n        \"x2\":{ \"value\": 399.5 },\n        \"y\":{ \"field\": \"upline\" },\n        \"y2\":{ \"field\": \"downline\" } ,\n        \"fill\":{ \"value\": \"#E7F2E7\" },\n        \"stroke\":{ \"value\": \"#E7F2E7\" },\n        \"strokeWidth\":{ \"value\": 1 },\n        \"tooltip\": \n          {\"value\": \"Цель (8 000 – 10 000)\"}}}, \n\n   // Линия, обозначающая нижнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"downline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n\n   // Линия, обозначающая верхнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"upline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n      \n   // График изменения уровня производства     \n   {mark: {\"type\": \"line\", \"point\": {\"size\": 60}},\n    encoding: {\n      x: {\n        field: 'Шаг', \n        type: 'quantitative', \n        scale: {domain: [0, 20]},\n        axis: {titleFontSize: 14, labelFontSize: 12, titlePadding: 12}},\n      y: {\n        field: 'Уровень_производства', \n        type: 'quantitative', \n        scale: {domain: [0, 13000]},\n        axis: {\n          titleFontSize: 14, \n          labelFontSize: 12,  \n          titlePadding: 12,    \n          zindex: 0}},\n        color: {\n    \"condition\": [\n       { \"test\": \n              \"datum['Уровень_производства'] > 7999 && datum['Уровень_производства'] < 10001\", \n          \"value\": \"#3C8327\"},\n        {\"test\": \n              \"datum['Шаг'] == 0\", \n          \"value\": \"gray\"}],\n        \"value\": \"#DC8A0E\"},\n\n      tooltip: [{\n        \"field\": \"Сделанный выбор\", \n        \"type\": \"quantitative\",\n        \"title\": \"Выбор\"}]}}]\n};\n\n\n// Построение графика\nvegaEmbed('#chart', spec, {\"actions\": false}).then(function(res) {\n  res.view.change('table', changeSet).run();\n});\n\n"
        },
        {
          "title": "",
          "message": "end",
          "code": "// Очистка графика (иначе тултип остается на следующих страницах)\nlet tooltip = document.getElementById('vg-tooltip-element')\ntooltip.style.display = 'none'\n\n\n// Продуктивность последнего этапа\nstudy.parameters.last_stage_productivity = \n    study.parameters.result / \n    (study.parameters.graph_data[\"values\"].length - 1)\n\n\n// Подсчет глобальных результатов\nif (typeof(study.parameters.global_results) == \"undefined\") {\n  study.parameters.global_results = 0\n  study.parameters.global_attempts = 0\n}\n\n\n// Общее количество соответсвий\nstudy.parameters.global_results += study.parameters.result\n\n// Общее количество попыток\nstudy.parameters.global_attempts +=\n    study.parameters.graph_data[\"values\"].length - 1\n\n// Общая продуктивность\nstudy.parameters.global_productivity = \n    study.parameters.global_results / study.parameters.global_attempts\n\n\n// Обнуление фабрики перед новой серии\nif (this.parameters.last_step) {\n  study.parameters.graph_data = \n      {\"values\": \n          [{'Сделанный выбор': 600, \n          'Уровень_производства': 6000, \n          'Шаг': 0,\n          'Последний': 1}]}\n  study.parameters.production_value = 6000\n  study.parameters.number_of_workers = 600\n}\n\nstudy.parameters.number_of_workers = 600\n\n\n// Данные для отрисовки графика продуктивности\nif (typeof(study.parameters.prod_graph_data) == \"undefined\") {\n  var step = 1\n  study.parameters.prod_graph_data = { \"values\": [] }\n} else {\n  var step = study.parameters.prod_graph_data[\"values\"].length + 1\n}\n\nstudy.parameters.prod_graph_data[\"values\"].push({\n  'Этап': \"Тренировочная серия\", \n  'Продуктивность': study.parameters.last_stage_productivity, \n  'Номер серии': step})\n\n"
        }
      ],
      "title": "form_results",
      "_tab": "Scripts",
      "timeout": ""
    },
    "42": {
      "id": "42",
      "type": "lab.flow.Sequence",
      "children": [
        "71",
        "4",
        "9",
        "15"
      ],
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "FINAL_INDIVIDUAL_STAGE",
      "_collapsed": true,
      "_tab": "Scripts",
      "skipCondition": "",
      "skip": false
    },
    "44": {
      "id": "44",
      "type": "lab.flow.Sequence",
      "children": [
        "45",
        "46",
        "50"
      ],
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "loop_series_add_part",
      "_collapsed": true,
      "_tab": "Scripts",
      "skipCondition": "${ study.parameters.last_stage_productivity > 0.7 } ",
      "skip": false,
      "tardy": true
    },
    "45": {
      "id": "45",
      "type": "lab.html.Screen",
      "files": [],
      "responses": [
        {
          "label": "Enter clicked",
          "event": "keypress",
          "target": "",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": ""
        }
      ],
      "title": "screen_set_presentation",
      "content": "<main class = \"light-gray main-layout\">\n    <div class = \"present-card text-lefted\"> \n        <div class = \"gray\"> Текущй этап </div>\n        <div \n          id = \"stage-title\" \n          class = \"medium_weight twenty-eight_px\"> \n              Обучающая серия №3 \n        </div>\n    </div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Вы перейдёте к заданию через несколько секунд\n</footer>",
      "_tab": "Content",
      "timeout": "4000"
    },
    "46": {
      "id": "46",
      "type": "lab.flow.Loop",
      "children": [
        "47"
      ],
      "templateParameters": {
        "columns": [
          {
            "name": "step",
            "type": "string"
          },
          {
            "name": "",
            "type": "string"
          }
        ],
        "rows": [
          [
            "1",
            ""
          ],
          [
            "2",
            ""
          ],
          [
            "3",
            ""
          ],
          [
            "4",
            ""
          ],
          [
            "5",
            ""
          ],
          [
            "6",
            ""
          ],
          [
            "7",
            ""
          ],
          [
            "8",
            ""
          ],
          [
            "9",
            ""
          ],
          [
            "10",
            ""
          ],
          [
            "11",
            ""
          ],
          [
            "12",
            ""
          ],
          [
            "13",
            ""
          ],
          [
            "14",
            ""
          ],
          [
            "15",
            ""
          ],
          [
            "16",
            ""
          ],
          [
            "17",
            ""
          ],
          [
            "18",
            ""
          ],
          [
            "19",
            ""
          ],
          [
            "20",
            ""
          ]
        ]
      },
      "sample": {
        "mode": "sequential"
      },
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "loop_set",
      "_tab": "Behavior",
      "_collapsed": true
    },
    "47": {
      "id": "47",
      "type": "lab.flow.Sequence",
      "children": [
        "48",
        "49"
      ],
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "sequence_set_components",
      "_tab": "Behavior",
      "_collapsed": false
    },
    "48": {
      "id": "48",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class=\"header-footer-style\">\n    ${this.parameters.step}/20 шаг серии\n</header>\n\n<main class=\"main-layout\">\n<!-- Элементы вывода -->\n<div class = \"horizontal-section\">\n\n\n  <!-- График (тут только часть, остальное в Scripts) --> \n  <div id = \"chart-card\" class=\"card output-color horizontal-centered\">\n    <div id = \"chart\"></div>\n  </div>\n\n\n    <!-- Уровень производства --> \n    <div id = \"prod-level\" class = \"card output-color text-lefted\">\n      <div id = \"prod-level-headline\" class = \"headline\">Уровень производства</div>\n      <div class = \"fifthteen_px\"\"> \n        <span class = \"medium_weight\">Текущий уровень:</span> \n        <span id = \"production_value\"> 6 000 (+2 000 до цели) </span>\n      </div>\n      <div id = \"target-level-headline\" class = \"fifthteen_px text-lefted\"> \n        <span class = \"medium_weight\"> Цель:</span> \n        8 000 – 10 000\n      </div>\n    </div>\n\n</div>\n\n\n<!-- Элементы ввода --> \n<div class = \"horizontal-section\">\n  <!-- Выбор количества рабочих (тут только часть, логика изменения в Scripts) --> \n  <div id = \"workers-num-block\" class = \"card input-color vertical-centered\">\n    <p class = \"headline\"> Выберите количество рабочих </p>\n    <div class = \"horizontal-centered\">\n        <button id = \"-\" class = \"work-num-element button nineteen_px\">-</button>\n        <span id=\"amount_of_workers\" class=\"work-num-element twenty-four_px\"> 600 </span>\n        <button id=\"+\" class=\"work-num-element button nineteen_px\">+</button>\n    </div>\n  </div>\n\n\n<!-- Уверенность --> \n  <div id = \"conf-block\" class = \"card input-color\">\n\n    <div \n        id = \"conf-headline\" \n        class = \"headline text-centered\"> Оцените уверенность \n    </div>\n\n    <div id = \"confidencer\">\n      <form id = \"confidence_form\" class = \"fifthteen_px\">\n\n        <ul class = 'likert'>\n          <li>\n            <input \n              id = \"conf_1\"\n              type = \"radio\" \n              name =\"confidence\" \n              value=\"1\" \n              required>\n            <label> Не уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_2\"\n              type = \"radio\" \n              name = \"confidence\" \n              value=\"2\" \n              required>\n            <label> Скорее не уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_3\"\n              type = \"radio\" \n              name = \"confidence\" \n              value = \"3\" \n              required>\n            <label> Скорее уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_4\"\n              type = \"radio\" \n              name = \"confidence\" \n              value = \"4\" \n              required>\n            <label> Уверен </label>\n          </li>\n        </ul>\n        \n      </form>\n    </div> \n  </div>\n\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы сохранить ответ и перейти дальше\n\n    <!-- Кнопка для сабмита --> \n    <button \n        id = \"submit_button\" \n        style = \"display: none\" \n        type = \"submit\" \n        form = \"confidence_form\">\n    </button>\n    \n</footer>\n\n\n\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "// Синхронизация кол-ва рабочих\nnumber_of_workers = study.parameters.number_of_workers\nvar amount_of_workers = document.getElementById(\"amount_of_workers\");\n\nif (isNaN(number_of_workers)) {\n  amount_of_workers.firstChild.nodeValue = 600\n} else {\n  amount_of_workers.firstChild.nodeValue = number_of_workers\n}\n\n\n// Точки-разделители для тысяч\nfunction number_with_dot(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n}\n\n// Синхронизация уровня производства\nproduction_value = study.parameters.production_value\nvar production_label = document.getElementById(\"production_value\")\n\nif (production_value >= 8000 && production_value <= 10000) {\n    var prod_value = \n        number_with_dot(production_value) + \" (отвечает цели)\"\n    production_label.classList.add(\"dark-green\") \n\n} else {\n    var to_target = \n        production_value > 10000 ? 10000 - production_value : 8000 - production_value\n    var prod_value = \n        number_with_dot(production_value) + \n        \" (\" + \n        number_with_dot(to_target) + \n        \" до цели)\"\n    production_label.classList.add(\"dark-yellow\")  \n}\n\nproduction_label.firstChild.nodeValue = prod_value\n\n// Данные для графика\nvar graph_data = study.parameters.graph_data\n\n// Конфигурация графика\nvar spec = {\n  $schema: 'https://vega.github.io/schema/vega-lite/v3.json',\n  data: graph_data,\n  transform: [\n    {'calculate': '7940', \"as\": \"downline\"}, \n    {'calculate': '9890', \"as\": \"upline\"}],\n  zero_title: 2000,\n  width: 400,\n  height: 140,\n  title: {text: 'Производственный график', fontSize: 16, dy: -12},\n  layer: [\n\n   // Прямоугольник, выделяющий целевой уровень производства         \n   {mark: \"rect\",\n    encoding: {\n        \"x\":{ \"value\": 1.5 },\n        \"x2\":{ \"value\": 399.5 },\n        \"y\":{ \"field\": \"upline\" },\n        \"y2\":{ \"field\": \"downline\" } ,\n        \"fill\":{ \"value\": \"#E7F2E7\" },\n        \"stroke\":{ \"value\": \"#E7F2E7\" },\n        \"strokeWidth\":{ \"value\": 1 },\n        \"tooltip\": \n          {\"value\": \"Цель (8 000 – 10 000)\"}}}, \n\n   // Линия, обозначающая нижнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"downline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n\n   // Линия, обозначающая верхнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"upline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n      \n   // График изменения уровня производства     \n   {mark: {\"type\": \"line\", \"point\": {\"size\": 60}},\n    encoding: {\n      x: {\n        field: 'Шаг', \n        type: 'quantitative', \n        scale: {domain: [0, 20]},\n        axis: {titleFontSize: 14, labelFontSize: 12, titlePadding: 12}},\n      y: {\n        field: 'Уровень_производства', \n        type: 'quantitative', \n        scale: {domain: [0, 13000]},\n        axis: {\n          titleFontSize: 14, \n          labelFontSize: 12,  \n          titlePadding: 12,    \n          zindex: 0}},\n        color: {\n    \"condition\": [\n       { \"test\": \n              \"datum['Уровень_производства'] > 7999 && datum['Уровень_производства'] < 10001\", \n          \"value\": \"#3C8327\"},\n        {\"test\": \n              \"datum['Шаг'] == 0\", \n          \"value\": \"gray\"}],\n        \"value\": \"#DC8A0E\"},\n\n      tooltip: [{\n        \"field\": \"Сделанный выбор\", \n        \"type\": \"quantitative\",\n        \"title\": \"Выбор\"}]}}]\n};\n\n\n// Построение графика\nvegaEmbed('#chart', spec, {\"actions\": false}).then(function(res) {\n  res.view.change('table', changeSet).run();\n});\n\n\n// Функция, срабатывающая при достижении максимального/минимального количества рабочих\nfunction showLimit() {\n  amount_of_workers.classList.add(\"workers_amount_animation\")\n  setTimeout(function() { amount_of_workers.classList.remove(\"workers_amount_animation\") }, 600);\n}\n\n// Функция, для изменения значения поля с количеством рабочих\nfunction myFunction(plus) {\n  var amount_of_workers = document.getElementById(\"amount_of_workers\");\n  var number = parseInt(amount_of_workers.innerHTML);\n\n  if (plus === true ) {\n    if (number < 1200) {\n      number = number + 100\n    } else { \n        showLimit()\n     }} \n    \n  else {\n    if (number > 100) {\n      number = number - 100} else { \n        showLimit()\n    }}\n  \n  amount_of_workers.firstChild.nodeValue = number;\n}\n\n// Привязка функции к нажатию на кнопку \"+\"\nconst pl = document.getElementById(\"+\");\npl.addEventListener(\"click\", () => { myFunction(plus = true); });\n\n\n// Привязка функции к нажатию на кнопку \"-\"\nconst ml = document.getElementById(\"-\");\nml.addEventListener(\"click\", () => { myFunction(plus = false); });\n\n\n// Привязка сабмита к enter\nenterPress = function(event) {\n    if (event.code === 'Enter') {\n      var submit_button = document.getElementById(\"submit_button\");\n      submit_button.click()\n  }\n}\n\ndocument.addEventListener('keypress', enterPress, true)\n\n\n\n\n"
        },
        {
          "title": "",
          "message": "end",
          "code": "// Очистка слушателя enter\ndocument.removeEventListener('keypress', enterPress, true)\n\n// Очистка графика (иначе тултип остается на следующих страницах)\nlet tooltip = document.getElementById('vg-tooltip-element')\ntooltip.style.display = 'none'\n\n\n// Cохранение выбора кол-ва работников\nvar amount_of_workers = document.getElementById(\"amount_of_workers\")\nstudy.parameters.number_of_workers = \n  parseInt(amount_of_workers.innerHTML)\n\n\n// Рандомайзер\nfunction randomInteger(min, max) {\n  let rand = min + Math.random() * (max + 1 - min);\n  return Math.floor(rand)}\n\n// Подсчет производительности следующего шага\nrandom_value = randomInteger(-1, 1)\nstudy.parameters.production_value = ((2*study.parameters.number_of_workers/100 \n  - study.parameters.production_value/1000\n  + random_value)\n  * 1000)\n\n// Приведение производительности к границам 1000:12000\nif (study.parameters.production_value > 12000) {\n  study.parameters.production_value = 12000\n} else if (study.parameters.production_value < 1000) {\n  study.parameters.production_value = 1000\n}\n\n\n// Конфигурация графика\nvar graph_data = study.parameters.graph_data\ngraph_data[\"values\"].forEach((item) => item.Последний = '0');\n\ngraph_data[\"values\"].push({\n   'Сделанный выбор': study.parameters.number_of_workers, \n   'Уровень_производства': study.parameters.production_value, \n   'Шаг': graph_data[\"values\"].length,\n   'Последний': 1 });\n\n\n// Обнуление фабрики перед новой серии\nif (this.parameters.step == 20) {\n  study.parameters.last_step = true\n} else {\n  study.parameters.last_step = false\n}\n\n\n\n"
        },
        {
          "title": "",
          "message": "before:prepare",
          "code": "// Метаданные\nstudy.parameters.stage = \"Обучающий этап\"\n\n// Данные для отрисвоки графика\nif (typeof(study.parameters.graph_data) == \"undefined\") {\n  study.parameters.graph_data = \n      {\"values\": \n          [{'Сделанный выбор': 600, \n          'Уровень_производства': 6000, \n          'Шаг': 0,\n          'Последний': 1}]}\n}\n\n// Изначалное значение уровня производства\nif (isNaN(study.parameters.production_value)) {\n  study.parameters.production_value = 6000\n}"
        }
      ],
      "title": "screen_attempt",
      "_tab": "Scripts"
    },
    "49": {
      "id": "49",
      "type": "lab.html.Screen",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [],
      "title": "screen_loader",
      "content": "<main class = \"content-vertical-center content-horizontal-center\">\n  <div class=\"loader\"></div>\n</main>",
      "_tab": "Content",
      "timeout": "500"
    },
    "50": {
      "id": "50",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class=\"header-footer-style\">\n    Финал серии\n</header>\n\n\n<main class=\"main-layout\">\n\n<!-- Элементы вывода -->\n<div class = \"horizontal-section\">\n\n    <!-- График (тут только часть, остальное в Scripts) --> \n    <div id = \"chart-card\" class=\"card output-color horizontal-centered\">\n      <div id = \"chart\"></div>\n    </div>\n\n    <!-- Уровень производства --> \n    <div id = \"prod-level\" class = \"card output-color text-lefted\">\n      <div id = \"prod-level-headline\" class = \"headline\">Уровень производства</div>\n      <div class = \"fifthteen_px\"\"> \n        <span class = \"medium_weight\"> Финальный уровень:</span> \n        <span id = \"production_value\"> 6 000 (+2 000 до цели) </span>\n      </div>\n      <div id = \"target-level-headline\" class = \"fifthteen_px text-lefted\"> \n        <span class = \"medium_weight\"> Цель:</span> \n        8 000 – 10 000\n      </div>\n    </div>\n\n</div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Серия закончена. Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы перейти дальше\n</footer>\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [
        {
          "event": "keypress",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "// Калькуляция финальных резултатов\nstudy.parameters.result = 0\nvar graph_data = study.parameters.graph_data\ngraph_data[\"values\"].forEach((item) => {\n  if \n    (item.Уровень_производства >= 8000 && \n    item.Уровень_производства <= 10000) {\n        study.parameters.result = ++study.parameters.result}});\n\n\n// Точки-разделители для тысяч\nfunction number_with_dot(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n}\n\n// Синхронизация уровня производства\nproduction_value = study.parameters.production_value\nvar production_label = document.getElementById(\"production_value\")\n\nif (production_value >= 8000 && production_value <= 10000) {\n    var prod_value = \n        number_with_dot(production_value) + \" (отвечает цели)\"\n    production_label.classList.add(\"dark-green\") \n\n} else {\n    var to_target = \n        production_value > 10000 ? 10000 - production_value : 8000 - production_value\n    var prod_value = \n        number_with_dot(production_value) + \n        \" (\" + \n        number_with_dot(to_target) + \n        \" до цели)\"\n    production_label.classList.add(\"dark-yellow\")  \n}\n\nproduction_label.firstChild.nodeValue = prod_value\n\n\n// Данные для графика\nvar graph_data = study.parameters.graph_data\n\n// Конфигурация графика\nvar spec = {\n  $schema: 'https://vega.github.io/schema/vega-lite/v3.json',\n  data: graph_data,\n  transform: [\n    {'calculate': '7940', \"as\": \"downline\"}, \n    {'calculate': '9890', \"as\": \"upline\"}],\n  zero_title: 2000,\n  width: 400,\n  height: 140,\n  title: {text: 'Производственный график', fontSize: 16, dy: -12},\n  layer: [\n\n   // Прямоугольник, выделяющий целевой уровень производства         \n   {mark: \"rect\",\n    encoding: {\n        \"x\":{ \"value\": 1.5 },\n        \"x2\":{ \"value\": 399.5 },\n        \"y\":{ \"field\": \"upline\" },\n        \"y2\":{ \"field\": \"downline\" } ,\n        \"fill\":{ \"value\": \"#E7F2E7\" },\n        \"stroke\":{ \"value\": \"#E7F2E7\" },\n        \"strokeWidth\":{ \"value\": 1 },\n        \"tooltip\": \n          {\"value\": \"Цель (8.000 – 10.000)\"}}}, \n\n   // Линия, обозначающая нижнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"downline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n\n   // Линия, обозначающая верхнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"upline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n      \n   // График изменения уровня производства     \n   {mark: {\"type\": \"line\", \"point\": {\"size\": 60}},\n    encoding: {\n      x: {\n        field: 'Шаг', \n        type: 'quantitative', \n        scale: {domain: [0, 20]},\n        axis: {titleFontSize: 14, labelFontSize: 12, titlePadding: 12}},\n      y: {\n        field: 'Уровень_производства', \n        type: 'quantitative', \n        scale: {domain: [0, 13000]},\n        axis: {\n          titleFontSize: 14, \n          labelFontSize: 12,  \n          titlePadding: 12,    \n          zindex: 0}},\n        color: {\n    \"condition\": [\n       { \"test\": \n              \"datum['Уровень_производства'] > 7999 && datum['Уровень_производства'] < 10001\", \n          \"value\": \"#3C8327\"},\n        {\"test\": \n              \"datum['Шаг'] == 0\", \n          \"value\": \"gray\"}],\n        \"value\": \"#DC8A0E\"},\n\n      tooltip: [{\n        \"field\": \"Сделанный выбор\", \n        \"type\": \"quantitative\",\n        \"title\": \"Выбор\"}]}}]\n};\n\n\n// Построение графика\nvegaEmbed('#chart', spec, {\"actions\": false}).then(function(res) {\n  res.view.change('table', changeSet).run();\n});\n\n"
        },
        {
          "title": "",
          "message": "end",
          "code": "// Очистка графика (иначе тултип остается на следующих страницах)\nlet tooltip = document.getElementById('vg-tooltip-element')\ntooltip.style.display = 'none'\n\n\n// Продуктивность последнего этапа\nstudy.parameters.last_stage_productivity = \n    study.parameters.result / \n    (study.parameters.graph_data[\"values\"].length - 1)\n\n\n// Подсчет глобальных результатов\nif (typeof(study.parameters.global_results) == \"undefined\") {\n  study.parameters.global_results = 0\n  study.parameters.global_attempts = 0\n}\n\n\n// Общее количество соответсвий\nstudy.parameters.global_results += study.parameters.result\n\n// Общее количество попыток\nstudy.parameters.global_attempts +=\n    study.parameters.graph_data[\"values\"].length - 1\n\n// Общая продуктивность\nstudy.parameters.global_productivity = \n    study.parameters.global_results / study.parameters.global_attempts\n\n\n// Обнуление фабрики перед новой серии\nif (this.parameters.last_step) {\n  study.parameters.graph_data = \n      {\"values\": \n          [{'Сделанный выбор': 600, \n          'Уровень_производства': 6000, \n          'Шаг': 0,\n          'Последний': 1}]}\n  study.parameters.production_value = 6000\n}\n\nstudy.parameters.number_of_workers = 600\n\n\n// Данные для отрисовки графика продуктивности\nvar step = study.parameters.prod_graph_data[\"values\"].length + 1\n\nstudy.parameters.prod_graph_data[\"values\"].push({\n  'Этап': \"Тренировочная серия\", \n  'Продуктивность': study.parameters.last_stage_productivity, \n  'Номер серии': step})"
        }
      ],
      "title": "form_results",
      "_tab": "Scripts",
      "timeout": ""
    },
    "52": {
      "id": "52",
      "type": "lab.flow.Loop",
      "children": [
        "53"
      ],
      "templateParameters": {
        "columns": [
          {
            "name": "stage",
            "type": "string"
          }
        ],
        "rows": [
          [
            "Серия с напарником №1"
          ],
          [
            "Серия с напарником №2"
          ]
        ]
      },
      "sample": {
        "mode": "sequential"
      },
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "loop_set_series",
      "_collapsed": true,
      "_tab": "Content"
    },
    "53": {
      "id": "53",
      "type": "lab.flow.Sequence",
      "children": [
        "2",
        "56",
        "1"
      ],
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "frequence_series_components",
      "_collapsed": false
    },
    "56": {
      "id": "56",
      "type": "lab.flow.Loop",
      "children": [
        "57"
      ],
      "templateParameters": {
        "columns": [
          {
            "name": "step",
            "type": "string"
          },
          {
            "name": "random_value",
            "type": "number"
          }
        ],
        "rows": [
          [
            "1",
            "0"
          ],
          [
            "2",
            "1"
          ],
          [
            "3",
            "1"
          ],
          [
            "4",
            "-1"
          ],
          [
            "5",
            "1"
          ],
          [
            "6",
            "1"
          ],
          [
            "7",
            "0"
          ],
          [
            "8",
            "0"
          ],
          [
            "9",
            "0"
          ],
          [
            "10",
            "1"
          ],
          [
            "11",
            "0"
          ],
          [
            "12",
            "0"
          ],
          [
            "13",
            "-1"
          ],
          [
            "14",
            "1"
          ],
          [
            "15",
            "-1"
          ],
          [
            "16",
            "0"
          ],
          [
            "17",
            "0"
          ],
          [
            "18",
            "-1"
          ],
          [
            "19",
            "0"
          ],
          [
            "20",
            "-1"
          ]
        ]
      },
      "sample": {
        "mode": "sequential"
      },
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "loop_set_with_partner",
      "_tab": "Content",
      "_collapsed": true
    },
    "57": {
      "id": "57",
      "type": "lab.flow.Sequence",
      "children": [
        "8",
        "6",
        "7",
        "129",
        "130",
        "5",
        "58",
        "127"
      ],
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "frequence_set_components",
      "_tab": "Content",
      "_collapsed": false
    },
    "58": {
      "id": "58",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class=\"header-footer-style\">\n\n    <!-- <span class = \"blue\"> Финальный выбор </span> • --> \n    Финальный выбор •\n    ${this.parameters.step}/20 шаг серии <br>\n    \n</header>\n\n\n<main class=\"main-layout\">\n  \n<!-- Элементы вывода -->\n<div class = \"horizontal-section\">\n\n  <!-- График (тут только часть, остальное в Scripts) --> \n  <div id = \"chart-card\" class=\"card output-color horizontal-centered\">\n    <div id = \"chart\"></div>\n  </div>\n\n\n  <!-- Уровень производства + Предварительный выбор -->\n  <div id = \"info-section-col\">\n\n    <!-- Уровень производства --> \n    <div id \"prod-level\" class = \"card output-color text-lefted\">\n\n      <div id = \"prod-level-headline\" class = \"headline\">\n        Уровень производства\n      </div>\n\n      <div class = \"fifthteen_px\"\"> \n        <span class = \"medium_weight\">Текущий уровень:</span> \n        <span id = \"production_value\"> 6 000 (+2 000 до цели) </span>\n      </div>\n\n      <div id = \"target-level-headline\" class = \"fifthteen_px text-lefted\"> \n        <span class = \"medium_weight\"> Цель:</span> \n        8 000 – 10 000\n      </div>\n\n    </div>\n\n    <!-- Предварительный выбор --> \n    <div class = \"card output-color vertical-centered text-lefted\">\n      \n      <div id = \"prem-choice-headline\" class = \"headline\">\n        Предварительный выбор\n      </div>\n\n      <div id = \"prem-response-fabric\"> 700 </div>\n\n    </div>\n\n  </div>\n\n</div>\n\n\n<!-- Элементы ввода --> \n<div class = \"horizontal-section\">\n  <!-- Выбор количества рабочих (тут только часть, логика изменения в Scripts) --> \n  <div id = \"workers-num-block\" class = \"card input-color vertical-centered\">\n    <p class = \"headline\"> Выберите количество рабочих </p>\n    <div class = \"horizontal-centered\">\n        <button id = \"-\" class = \"work-num-element button nineteen_px\">-</button>\n        <span id=\"amount_of_workers\" class=\"work-num-element twenty-four_px\"> 600 </span>\n        <button id=\"+\" class=\"work-num-element button nineteen_px\">+</button>\n    </div>\n  </div>\n\n\n<!-- Уверенность --> \n  <div id = \"conf-block\" class = \"card input-color\">\n\n    <div \n        id = \"conf-headline\" \n        class = \"headline text-centered\"> Оцените уверенность \n    </div>\n\n    <div id = \"confidencer\">\n      <form id = \"confidence_form\" class = \"fifthteen_px\">\n\n        <ul class = 'likert'>\n          <li>\n            <input \n              id = \"conf_1\"\n              type = \"radio\" \n              name =\"confidence\" \n              value=\"1\" \n              required>\n            <label> Не уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_2\"\n              type = \"radio\" \n              name = \"confidence\" \n              value=\"2\" \n              required>\n            <label> Скорее не уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_3\"\n              type = \"radio\" \n              name = \"confidence\" \n              value = \"3\" \n              required>\n            <label> Скорее уверен </label>\n          </li>\n          <li>\n            <input \n              id = \"conf_4\"\n              type = \"radio\" \n              name = \"confidence\" \n              value = \"4\" \n              required>\n            <label> Уверен </label>\n          </li>\n        </ul>\n        \n      </form>\n    </div> \n  </div>\n\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы сохранить ответ и перейти дальше\n\n    <!-- Кнопка для сабмита --> \n    <button \n        id = \"submit_button\" \n        style = \"display: none\" \n        type = \"submit\" \n        form = \"confidence_form\">\n    </button>\n    \n</footer>\n\n\n\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "// Синхронизация предварительного выбора кол-ва рабочих \nnumber_of_workers = study.parameters.number_of_workers\nvar amount_of_workers = document.getElementById(\"amount_of_workers\");\nvar prem_response = document.getElementById(\"prem-response-fabric\")\n\namount_of_workers.firstChild.nodeValue = number_of_workers\nprem_response.firstChild.nodeValue = number_of_workers\n\n\n// Точки-разделители для тысяч\nfunction number_with_dot(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n}\n\n// Синхронизация уровня производства\nproduction_value = study.parameters.production_value\nvar production_label = document.getElementById(\"production_value\")\n\nif (production_value >= 8000 && production_value <= 10000) {\n    var prod_value = \n        number_with_dot(production_value) + \" (отвечает цели)\"\n    production_label.classList.add(\"dark-green\") \n\n} else {\n    var to_target = \n        production_value > 10000 ? 10000 - production_value : 8000 - production_value\n    var prod_value = \n        number_with_dot(production_value) + \n        \" (\" + \n        number_with_dot(to_target) + \n        \" до цели)\"\n    production_label.classList.add(\"dark-yellow\")  \n}\n\nproduction_label.firstChild.nodeValue = prod_value\n\n\n// Данные для графика\nvar graph_data = study.parameters.graph_data\n\n// Конфигурация графика\nvar spec = {\n  $schema: 'https://vega.github.io/schema/vega-lite/v3.json',\n  data: graph_data,\n  transform: [\n    {'calculate': '7940', \"as\": \"downline\"}, \n    {'calculate': '9890', \"as\": \"upline\"}],\n  zero_title: 2000,\n  width: 400,\n  height: 140,\n  title: {text: 'Производственный график', fontSize: 16, dy: -12},\n  layer: [\n\n   // Прямоугольник, выделяющий целевой уровень производства         \n   {mark: \"rect\",\n    encoding: {\n        \"x\":{ \"value\": 1.5 },\n        \"x2\":{ \"value\": 399.5 },\n        \"y\":{ \"field\": \"upline\" },\n        \"y2\":{ \"field\": \"downline\" } ,\n        \"fill\":{ \"value\": \"#E7F2E7\" },\n        \"stroke\":{ \"value\": \"#E7F2E7\" },\n        \"strokeWidth\":{ \"value\": 1 },\n        \"tooltip\": \n          {\"value\": \"Цель (8 000 – 10 000)\"}}}, \n\n   // Линия, обозначающая нижнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"downline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n\n   // Линия, обозначающая верхнюю границу целевого уровня производства\n   {mark: \"rule\",\n    labels: false,\n    encoding: {\n        y: { \"field\": \"upline\", title: \"Уровень производства\"},\n        size: { \"value\": 1.5 },\n        tooltip: { \"value\": null },\n        color: { \"value\": \"green\" }}},\n      \n   // График изменения уровня производства     \n   {mark: {\"type\": \"line\", \"point\": {\"size\": 60}},\n    encoding: {\n      x: {\n        field: 'Шаг', \n        type: 'quantitative', \n        scale: {domain: [0, 20]},\n        axis: {titleFontSize: 14, labelFontSize: 12, titlePadding: 12}},\n      y: {\n        field: 'Уровень_производства', \n        type: 'quantitative', \n        scale: {domain: [0, 13000]},\n        axis: {\n          titleFontSize: 14, \n          labelFontSize: 12,  \n          titlePadding: 12,    \n          zindex: 0}},\n        color: {\n    \"condition\": [\n       { \"test\": \n              \"datum['Уровень_производства'] > 7999 && datum['Уровень_производства'] < 10001\", \n          \"value\": \"#3C8327\"},\n        {\"test\": \n              \"datum['Шаг'] == 0\", \n          \"value\": \"gray\"}],\n        \"value\": \"#DC8A0E\"},\n\n      tooltip: [{\n        \"field\": \"Сделанный выбор\", \n        \"type\": \"quantitative\",\n        \"title\": \"Выбор\"}]}}]\n};\n\n\n// Построение графика\nvegaEmbed('#chart', spec, {\"actions\": false}).then(function(res) {\n  res.view.change('table', changeSet).run();\n});\n\n\n// Функция, срабатывающая при достижении максимального/минимального количества рабочих\nfunction showLimit() {\n  amount_of_workers.classList.add(\"workers_amount_animation\")\n  setTimeout(function() { amount_of_workers.classList.remove(\"workers_amount_animation\") }, 600);\n}\n\n// Функция, для изменения значения поля с количеством рабочих\nfunction myFunction(plus) {\n  var amount_of_workers = document.getElementById(\"amount_of_workers\");\n  var number = parseInt(amount_of_workers.innerHTML);\n\n  if (plus === true ) {\n    if (number < 1200) {\n      number = number + 100\n    } else { \n        showLimit()\n     }} \n    \n  else {\n    if (number > 100) {\n      number = number - 100} else { \n        showLimit()\n    }}\n  \n  amount_of_workers.firstChild.nodeValue = number;\n}\n\n// Привязка функции к нажатию на кнопку \"+\"\nconst pl = document.getElementById(\"+\");\npl.addEventListener(\"click\", () => { myFunction(plus = true); });\n\n\n// Привязка функции к нажатию на кнопку \"-\"\nconst ml = document.getElementById(\"-\");\nml.addEventListener(\"click\", () => { myFunction(plus = false); });\n\n\n// Привязка сабмита к enter\nenterPress = function(event) {\n    if (event.code === 'Enter') {\n      var submit_button = document.getElementById(\"submit_button\");\n      submit_button.click()\n  }\n}\n\ndocument.addEventListener('keypress', enterPress, true)\n\n\n"
        },
        {
          "title": "",
          "message": "end",
          "code": "// Очистка/обнуление зависимостей \n// Слушатель enter\ndocument.removeEventListener('keypress', enterPress, true)\n\n// График (иначе тултип остается на следующих страницах)\nlet tooltip = document.getElementById('vg-tooltip-element')\ntooltip.style.display = 'none'\n\n\n// Cохранение выбора кол-ва работников\nvar amount_of_workers = document.getElementById(\"amount_of_workers\")\ninput_value = parseInt(amount_of_workers.innerHTML)\nstudy.parameters.number_of_workers = input_value\nstudy.parameters.last_number_of_workers = input_value\n\n\n// Подсчет производительности следющего шага\nstudy.parameters.production_value = ((2*study.parameters.number_of_workers/100 \n  - study.parameters.production_value/1000\n  + this.parameters.random_value)\n  * 1000)\n\n// Приведение производительности к границам 1000:12000\nif (study.parameters.production_value > 12000) {\n  study.parameters.production_value = 12000\n} else if (study.parameters.production_value < 1000) {\n  study.parameters.production_value = 1000\n}\n\n\n// Конфигурация графика\nvar graph_data = study.parameters.graph_data\ngraph_data[\"values\"].forEach((item) => item.Последний = '0');\n\ngraph_data[\"values\"].push({\n   'Сделанный выбор': study.parameters.number_of_workers, \n   'Уровень_производства': study.parameters.production_value, \n   'Шаг': graph_data[\"values\"].length,\n   'Последний': 1 });\n\n\n// Индикация последнего шага для обнуления фабрики\nif (this.parameters.step == 20) {\n  study.parameters.last_step = true\n} else {\n  study.parameters.last_step = false\n}\n\n\n\n"
        }
      ],
      "title": "screen_attempt_final",
      "_tab": "Scripts",
      "timeout": ""
    },
    "60": {
      "id": "60",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class=\"header-footer-style\">\n    Изменение продуктивности от серии к серии\n</header>\n\n\n<main class=\"main-layout\">\n\n<!-- Элементы вывода -->\n<div class = \"horizontal-section\">\n\n    <!-- График (тут только часть, остальное в Scripts) --> \n    <div id = \"chart-card\" class=\"card output-color horizontal-centered\">\n      <div id = \"chart\"></div>\n    </div>\n\n    <!-- Легенда графика --> \n    <div id = \"prod-level\" class = \"card output-color\">\n      <div id = \"prod-level-headline-dis\" class = \"headline text-centered\"> Легенда \n      </div>\n\n      <div class = \"fifthteen_px text-lefted\"> \n        <span class = \"nineteen_px gray medium_weight\"> \n          ● \n        </span> \n        Тренировочная серия\n      </div>\n\n      <div id = \"middle-text-point\" class = \"fifthteen_px text-lefted\"> \n        <span class = \"nineteen_px turquoise medium_weight\"> \n          ● \n        </span> \n        Серия с напарником\n      </div>\n\n      <div id = \"target-level-headline\" class = \"fifthteen_px text-lefted\"> \n        <span class = \"nineteen_px purple medium_weight\"> \n          ● \n        </span> \n        Финальная серия\n      </div>\n\n    </div>\n\n</div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы перейти дальше\n</footer>\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "keypress",
          "target": "",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "run",
          "code": "// Данные для графика\nvar graph_data = study.parameters.prod_graph_data\n\n// Конфигурация графика\nvar spec = {\n  $schema: 'https://vega.github.io/schema/vega-lite/v3.json',\n  data: graph_data,\n  width: 240,\n  height: 140,\n  title: {text: 'График продуктивности', fontSize: 16, dy: -12},\n  layer: [\n      \n   // График изменения уровня производства     \n   {mark: {\"type\": \"line\", \"point\": {\"size\": 70}},\n    encoding: {\n      x: {\n        field: 'Номер серии', \n        type: 'quantitative', \n        scale: {domain: [1, graph_data[\"values\"].length]},\n        axis: {titleFontSize: 14, labelFontSize: 12, titlePadding: 12}},\n      y: {\n        field: 'Продуктивность', \n        type: 'quantitative', \n        scale: {domain: [0, 1]},\n        axis: {\n          titleFontSize: 14, \n          labelFontSize: 12,  \n          titlePadding: 12,    \n          zindex: 0}},\n          \n        color: {\n    \"condition\": [\n       { \"test\": \n              \"datum['Этап'] == 'Тренировочная серия'\", \n          \"value\": \"#828282\"},\n        {\"test\": \n              \"datum['Этап'] == 'Финальная серия'\", \n          \"value\": \"#896dd1\"}],\n        \"value\": \"#0E9AA4\"},\n\n      tooltip: [{\n        \"field\": \"Продуктивность\", \n        \"type\": \"quantitative\",\n        \"title\": \"Продуктивность\"}]}}]\n};\n\n\n// Построение графика\nvegaEmbed('#chart', spec, {\"actions\": false}).then(function(res) {\n  res.view.change('table', changeSet).run();\n});\n\n\n"
        }
      ],
      "title": "form_productivity_feedback",
      "_tab": "Behavior"
    },
    "68": {
      "id": "68",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "<h4 style=\"text-align: center; font-size: 28px\"><strong> Этап с напарником (2/2) </strong></h4>\n\n<p>Но! Теперь вы будете выполнять задачу вместе с напарником. У Вас будет возможность демонстрировать экран и общаться друг с другом на платформе MS Teams в чате или голосом.</p>\n\n<p> В течении каждого шага вам будет необходимо сделать два выбора:  <br>\n– <span class = \"medium_weight\"> Предварительный:  </span> самостоятельно — без обсуждений с напарником, без подглядываний в его/её экран <br> \n– <span class = \"medium_weight\"> Финальный:  </span> кооперативно — выполнение задачи обсуждается с напарником, в его/её экран можно подглядывать <br> \n</p>"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "page_instruction_2"
    },
    "71": {
      "id": "71",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "<h4 style=\"text-align: left;\"><strong>Вы отлично справились!</strong></h4>\n\n<p style=\"text-align: left;\">Теперь заполните ответы на следующей странице.</p>\n<p style=\"text-align: left;\"></p>\n<p style=\"text-align: left;\"> Нажмите  <kbd> Далее→ </kbd> </p>\n<h4 style=\"text-align: left;\"></h4>\n<h4 style=\"text-align: left;\"><strong></strong></h4>\n<h4 style=\"text-align: left;\"><strong></strong></h4>\n<p></p>"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "page_final_stage_bridge",
      "_tab": "Content"
    },
    "73": {
      "id": "73",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "<h4 style=\"text-align: left;\"><strong>Вы прошли обучающий этап! </strong></h4>\n\n<p style=\"text-align: left;\">Теперь перейдем к основной части эксперимента.</p>\n<p style=\"text-align: left;\"></p>\n<p style=\"text-align: left;\"> Нажмите  <kbd> Далее→ </kbd> </p>"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "page_stage_with_partner_bridge",
      "_tab": "Behavior"
    },
    "114": {
      "id": "114",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "<h4 style=\"text-align: center; font-size: 28px\"><strong>Информированное согласие</strong></h4>\n<p>Здравствуйте! Спасибо, что проявили интерес к нашему исследованию. Пожалуйста, отключите звук на телефоне, чтобы Вас ничего не отвлекало.&nbsp;</p>\n\n<p style=\"font-size: 3px\">&nbsp;</p>\n<p>Прежде чем Вы примете решение об участии, ознакомьтесь, пожалуйста, с информацией ниже.</p>\n\n<p style=\"font-size: 3px\">&nbsp;</p>\n<p><strong>Организаторы исследования</strong></p>\n<p>Данное исследование проводится группой студентов НИУ ВШЭ в рамках исследовательского проекта. Научный руководитель &ndash; Тихонов Р.В.,&nbsp;преподаватель НИУ ВШЭ в Санкт-Петербурге, департамент социологии.</p>\n\n<p style=\"font-size: 3px\">&nbsp;</p>\n<p><strong>Кто может принять участие?</strong></p>\n<p>&ndash;&nbsp;студенты НИУ ВШЭ в Санкт-Петербурге;</p>\n<p>&ndash;&nbsp;родной язык &mdash; русский;</p>\n<p>&ndash; возраст от 18 до 25 лет.</p>\n\n<p style=\"font-size: 3px\">&nbsp;</p>\n<p><strong>Как будет проходить исследование?</strong></p>\n<p>Исследование проводится онлайн на платформе MS Teams. Оно займет около&nbsp;<strong>30 минут</strong>.&nbsp;Перед началом будет предложено заполнить короткую анкету, касающуюся Вашего возраста и пола.</p>\n<p>Вам предстоит управлять сахарной фабрикой, регулируя количество рабочих. Цель &mdash;&nbsp;добиться необходимого уровня производства.&nbsp;</p>\n\n<p style=\"font-size: 3px\">&nbsp;</p>\n<p><strong>Цель исследования</strong></p>\n<p><span>Цель исследования &mdash; изучить особенности взаимодействия людей в онлайн-среде при принятии совместных решений.</span></p>\n\n<p style=\"font-size: 3px\">&nbsp;</p>\n<p><strong>Добровольность участия</strong></p>\n<p>Участие в исследовании является добровольным. Вы можете отказаться от участия сейчас, а также прекратить участие в любой момент без объяснения причин.</p>\n\n<p style=\"font-size: 3px\">&nbsp;</p>\n<p><strong>Конфиденциальность</strong></p>\n<p>Все данные, собранные в ходе исследования, будут доступны только исследовательской группе и будут представляться в обобщенном виде.</p>\n\n<p style=\"font-size: 3px\">&nbsp;</p>\n<p><strong>Контактная информация</strong></p>\n<p>Если у вас возникнут вопросы, пожелания или предложения, вы можете обращаться по электронной почте roman.tikhonov@me.com (Роман Тихонов).</p>\n\n<p style=\"font-size: 2px\">&nbsp;</p>"
        },
        {
          "required": true,
          "type": "checkbox",
          "label": "<span style=\"color: #333399;\"><strong>Подтверждение согласия на участие</strong></span>",
          "options": [
            {
              "label": "Мне 18 и более лет",
              "coding": "age_consent"
            },
            {
              "label": "Я ознакомился/-лась с информацией выше и понял/-а ее",
              "coding": "comprehension_consent"
            },
            {
              "label": "Я даю согласие на участие в исследовании",
              "coding": "participation_consent"
            },
            {
              "label": "Я оставляю за собой право прекратить участие без объяснения причин",
              "coding": "exit_consent"
            }
          ],
          "help": "Для подтверждения участия необходимо отметить галочкой все пункты",
          "name": "subject.consent"
        },
        {
          "required": true,
          "type": "text",
          "content": "<p style=\"font-size: 3px\">&nbsp;</p>\n<p _msthash=\"170606\" _msttexthash=\"29039712\"><span style=\"color: #333399;\"><strong>Если вы готовы продолжить, нажмите <kbd>Далее&rarr;</kbd></strong></span></p>"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "page_consent",
      "width": "l",
      "_tab": "Content"
    },
    "115": {
      "id": "115",
      "type": "lab.html.Page",
      "items": [
        {
          "required": true,
          "type": "input",
          "label": "<span style = \"font-size: 22px\"> ID участника </span> ",
          "attributes": {
            "type": "text"
          },
          "name": "participant_id",
          "help": "Заполняется экспериментатором"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "page_id",
      "width": "s"
    },
    "116": {
      "id": "116",
      "title": "INTERVIEW",
      "type": "lab.flow.Sequence",
      "children": [
        "131",
        "117",
        "118",
        "119",
        "120",
        "121"
      ],
      "parameters": [],
      "plugins": [],
      "metadata": {
        "title": "",
        "description": "",
        "repository": "",
        "contributors": ""
      },
      "_collapsed": true,
      "_tab": "Scripts",
      "messageHandlers": []
    },
    "117": {
      "id": "117",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "title": "Пожалуйста, ответьте на несколько вопросов, касающихся выполненного задания.",
          "content": "Задача 1. <br>\nНачальный объем производства сахара — 6000 тонн, количество рабочих — 600 человек. Вы увеличили количество рабочих до 900 человек. \n\nКакой объем сахара будет произведен в следующем месяце?\nНажмите цифру от 1 до 6, соответствующую вашему варианту ответа."
        },
        {
          "required": true,
          "type": "radio",
          "options": [
            {
              "label": "11000 тонн",
              "coding": "q1"
            },
            {
              "label": "13000 тонн",
              "coding": "q2"
            },
            {
              "label": "11000-13000 тонн",
              "coding": "q3"
            },
            {
              "label": "<11000 тонн",
              "coding": "q4"
            },
            {
              "label": ">13000 тонн",
              "coding": "q5"
            },
            {
              "label": "Все ответы одинаково вероятны",
              "coding": "q6"
            }
          ],
          "name": "q1_answer"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "after:end",
          "code": "if (study.state.q1_answer == \"q3\") {\n  study.state.q1_answer = 1\n} else {\n   study.state.q1_answer = 0\n}\n"
        }
      ],
      "title": "form_question_1",
      "_tab": "Scripts",
      "correctResponse": "",
      "skip": false,
      "tardy": false
    },
    "118": {
      "id": "118",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "Задача 2. <br>\nНачальный объем производства сахара — 10 000 тонн, количество рабочих — 800 человек. Вы уменьшили количество рабочих до 600 человек. \n\nКакой объем сахара будет произведен в следующем месяце?\nНажмите цифру от 1 до 6, соответствующую вашему варианту ответа."
        },
        {
          "required": true,
          "type": "radio",
          "options": [
            {
              "label": "1000 тонн",
              "coding": "q1"
            },
            {
              "label": "3000 тонн",
              "coding": "q2"
            },
            {
              "label": "1000-3000 тонн",
              "coding": "q3"
            },
            {
              "label": "<1000 тонн",
              "coding": "q4"
            },
            {
              "label": ">3000 тонн",
              "coding": "q5"
            },
            {
              "label": "Все ответы одинаково вероятны",
              "coding": "q6"
            }
          ],
          "shuffle": false,
          "name": "q2_answer"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "8000 тонн",
          "event": "keypress",
          "target": "",
          "filter": "1"
        },
        {
          "label": "12000 тонн",
          "event": "keypress",
          "filter": "2"
        },
        {
          "label": "9000-11000 тонн",
          "event": "keypress",
          "filter": "3"
        },
        {
          "label": "<9000 тонн",
          "event": "keypress",
          "filter": "4"
        },
        {
          "label": ">11000 тонн",
          "event": "keypress",
          "filter": "5"
        },
        {
          "label": "Все ответы одинаково вероятны",
          "event": "keypress",
          "filter": "6"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "after:end",
          "code": "if (study.state.q2_answer == \"q3\") {\r\n  study.state.q2_answer = 1\r\n} else {\r\n   study.state.q2_answer = 0\r\n}\r\n"
        }
      ],
      "title": "form_question_2",
      "_tab": "Content",
      "correctResponse": "9000-11000 тонн"
    },
    "119": {
      "id": "119",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "Задача 3. <br>\nСколько тонн сахара будет произведено в четвертом месяце?"
        },
        {
          "required": true,
          "type": "html",
          "content": "<table>\r\n\r\n  <tr>\r\n    <th>Месяц</th>\r\n    <th>Кол-во рабочих, чел.</th>\r\n    <th>Производство сахара, тонн.</th>\r\n  </tr>\r\n  <tr>\r\n    <td>1.</td>\r\n    <td>600</td><td>6000</td>\r\n  </tr>\r\n  <tr>\r\n    <td>2.</td>\r\n    <td>700</td><td>8000</td>\r\n  <tr>\r\n    <td>3.</td>\r\n    <td>900</td><td>10000</td>\r\n  </tr>\r\n   <tr>\r\n    <td>4.</td>\r\n    <td>800</td><td>_____?</td>\r\n  </tr>\r\n</table>\r\n\r\n"
        },
        {
          "required": true,
          "type": "input",
          "attributes": {
            "type": "text",
            "min": "1000",
            "max": "12000",
            "step": "1000"
          },
          "name": "q3_answer"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "9000",
          "event": "",
          "target": "",
          "filter": ""
        },
        {
          "label": "10000"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "after:end",
          "code": "switch (study.state.q3_answer) {\r\n  case '5000':\r\n  case '6000':\r\n  case '7000':\r\n  case '5000-6000':\r\n  case '6000-7000':\r\n  case '5000-7000':\r\n      study.state.q3_answer = 1\r\n      break\r\n  default:\r\n      study.state.q3_answer = 0\r\n}"
        }
      ],
      "title": "form_question_3",
      "_tab": "Scripts",
      "correctResponse": ""
    },
    "120": {
      "id": "120",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "Задача 4. <br>\nСколько тонн сахара будет произведено в четвертом месяце?"
        },
        {
          "required": true,
          "type": "html",
          "content": "<table>\r\n\r\n  <tr>\r\n    <th>Месяц</th>\r\n    <th>Кол-во рабочих, чел.</th>\r\n    <th>Производство сахара, тонн.</th>\r\n  </tr>\r\n  <tr>\r\n    <td>1.</td>\r\n    <td>1000</td><td>12000</td>\r\n  </tr>\r\n  <tr>\r\n    <td>2.</td>\r\n    <td>900</td><td>6000</td>\r\n  <tr>\r\n    <td>3.</td>\r\n    <td>1000</td><td>12000</td>\r\n  </tr>\r\n   <tr>\r\n    <td>4.</td>\r\n    <td>1000</td><td>_____?</td>\r\n  </tr>\r\n</table>\r\n\r\n"
        },
        {
          "required": true,
          "type": "input",
          "attributes": {
            "type": "text",
            "min": "1000",
            "max": "12000",
            "step": "1000"
          },
          "name": "q4_answer"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "after:end",
          "code": "switch (study.state.q4_answer) {\r\n  case '7000':\r\n  case '8000':\r\n  case '9000':\r\n  case '7000-8000':\r\n  case '8000-9000':\r\n  case '7000-9000':\r\n      study.state.q4_answer = 1\r\n      break\r\n  default:\r\n      study.state.q4_answer = 0\r\n}"
        }
      ],
      "title": "form_question_4",
      "_tab": "Scripts"
    },
    "121": {
      "id": "121",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "Задача 5. <br>\nСколько тонн сахара будет произведено в четвертом месяце?"
        },
        {
          "required": true,
          "type": "html",
          "content": "<table>\r\n\r\n  <tr>\r\n    <th>Месяц</th>\r\n    <th>Кол-во рабочих, чел.</th>\r\n    <th>Производство сахара, тонн.</th>\r\n  </tr>\r\n  <tr>\r\n    <td>1.</td>\r\n    <td>900</td><td>6000</td>\r\n  </tr>\r\n  <tr>\r\n    <td>2.</td>\r\n    <td>500</td><td>3000</td>\r\n  <tr>\r\n    <td>3.</td>\r\n    <td>400</td><td>5000</td>\r\n  </tr>\r\n   <tr>\r\n    <td>4.</td>\r\n    <td>600</td><td>_____?</td>\r\n  </tr>\r\n</table>\r\n\r\n"
        },
        {
          "required": true,
          "type": "input",
          "attributes": {
            "type": "text",
            "min": "1000",
            "max": "12000",
            "step": "1000"
          },
          "name": "q5_answer"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "after:end",
          "code": "switch (study.state.q5_answer) {\r\n  case '6000':\r\n  case '7000':\r\n  case '8000':\r\n  case '6000-7000':\r\n  case '7000-8000':\r\n  case '6000-8000':\r\n      study.state.q5_answer = 1\r\n      break\r\n  default:\r\n      study.state.q5_answer = 0\r\n}"
        }
      ],
      "title": "form_question_5",
      "_tab": "Scripts",
      "correctResponse": ""
    },
    "122": {
      "id": "122",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "content": "<h4 style=\"text-align: center; font-size: 28px\"><strong> Этап с напарником (1/2) </strong></h4>\n\n<p><span style=\"color: #333399;\"><strong>На этом этапе Ваша главная задача остается прежней&nbsp;&ndash; достичь и поддерживать целевой объем производства от 8 000 до 10 000 тонн.</strong></span> Начальный уровень производства &ndash; 6 000 тонн, а количество рабочих &ndash; 600 человек. В одном испытании можно нанять от 100 до 1 200 рабочих. У Вас будет 20 попыток, чтобы прийти к ожидаемому уровню производства, а после поддерживать его в целевом диапазоне до конца серии.</p>"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "page_instruction_1"
    },
    "127": {
      "id": "127",
      "type": "lab.html.Screen",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [],
      "title": "screen_loader",
      "content": "<main class = \"content-vertical-center content-horizontal-center\">\n  <div class=\"loader\"></div>\n</main>",
      "_tab": "Scripts",
      "timeout": "500"
    },
    "129": {
      "id": "129",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class = \"header-footer-style\">\n\n    Синхронизация и обсуждение • \n    ${this.parameters.step}/20 шаг набора <br>\n    \n</header>\n\n\n<main class = \"main-layout content-vertical-center\">\n\n  <!-- Блок, информирующий о текущей задаче --> \n  <div id = \"discussion-block\" class = \"card text-centered\">\n\n        <div id = \"prod-level-headline\" class = \"headline\">\n          Текущая задача\n        </div>\n\n        <div id = \"task-headline\" class = \"fifthteen_px text-lefted\"> \n\n           <span class = \"medium_weight\"> 1. Синхронизируйтесь: </span> вы и ваш партнер должны находиться на этой странице на одном и том же шаге (вы находитесь на шаге №${this.parameters.step}) <br> \n\n           <p><span class = \"medium_weight\"> \n              2. Перейдите к странице финального выбора\n           </span></p>\n\n           <span class = \"medium_weight\"> 3. Обсудите фабрику перед совершением финального выбора: </span> например, кто какое количество рабочих выбрал на предварительном этапе? Почему? Есть какие-нибудь мысли? стратегии? <br>\n\n        </div>\n\n  </div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы перейти к странице финального выбора\n</footer>\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [
        {
          "event": "keypress",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [],
      "title": "screen_sync",
      "_tab": "Behavior",
      "skip": false,
      "tardy": true,
      "skipCondition": "${ (this.parameters.step != 1) || (this.parameters.stage != \"Серия с напарником №1\") }"
    },
    "130": {
      "id": "130",
      "type": "lab.html.Form",
      "content": "<!-- Шапка --> \n<header class = \"header-footer-style\">\n\n    Синхронизация и обсуждение • \n    ${this.parameters.step}/20 шаг набора <br>\n    \n</header>\n\n\n<main class = \"main-layout content-vertical-center\">\n\n  <!-- Блок, информирующий о текущей задаче --> \n  <div id = \"discussion-block-shortened\" class = \"card text-centered\">\n\n        <div id = \"prod-level-headline\" class = \"headline\">\n          Текущая задача\n        </div>\n\n        <div id = \"task-headline\" class = \"fifthteen_px text-lefted\"> \n\n           <span class = \"medium_weight\"> 1. Синхронизируйтесь с напарником </span> (вы находитесь на шаге №${this.parameters.step}) <br> \n\n           <p><span class = \"medium_weight\"> \n              2. Перейдите к странице финального выбора\n           </span></p>\n\n           <span class = \"medium_weight\"> \n             3. Обсудите фабрику перед совершением финального выбора <br>\n           </span>\n\n        </div>\n\n  </div>\n</main>\n\n\n<!-- Чердак --> \n<footer class=\"header-footer-style\">\n  Нажмите <kbd class=\"fifthteen_px\">enter</kbd>, чтобы перейти к странице финального выбора\n</footer>\n\n",
      "scrollTop": true,
      "files": [],
      "responses": [
        {
          "event": "keypress",
          "filter": "Enter"
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [],
      "title": "screen_sync_shortened",
      "_tab": "Behavior",
      "skip": false,
      "tardy": true,
      "skipCondition": "${ (this.parameters.step == 1 && this.parameters.stage == \"Серия с напарником №1\") }"
    },
    "131": {
      "id": "131",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "title": "",
          "content": ""
        },
        {
          "required": true,
          "type": "likert",
          "items": [
            {
              "label": "Качество&nbspисходных&nbspмнений напарника(-цы) было очень высокое",
              "coding": "et_1"
            },
            {
              "label": "Чаще всего я доверял(а) мнению напарника(-цы)",
              "coding": "et_2"
            },
            {
              "label": "Напарника(-цу) можно считать надежным источником информации",
              "coding": "et_3"
            },
            {
              "label": "Мое мнение и мнение напарника(-цы) часто совпадали",
              "coding": "et_4"
            },
            {
              "label": "Напарник(-ца) хорошо справляется с поставленной задачей",
              "coding": "et_5"
            },
            {
              "label": "Чаще всего я доверял(а) своему мнению, а не мнению напарника(-цы)",
              "coding": "et_6_negative"
            },
            {
              "coding": "et_7_negative",
              "label": "Мое и мнение напарника(-цы) часто расходились"
            }
          ],
          "width": "5",
          "anchors": [
            "Абсолютно <nobr>НЕ&nbspсогласен(-а)</nobr>",
            "Скорее <nobr>НЕ&nbspсогласен(-а)</nobr>",
            "Затрудняюсь ответить",
            "Скорее <nobr>согласен(-а)</nobr>",
            "Полностью <nobr>согласен(-а)</nobr>"
          ],
          "label": "<span style = \"font-size: 28px\"><strong> Взаимодействие с напарником(-цей) </strong></span> <br>  <p style=\"font-size: 0px\">&nbsp;</p> <span style = \"font-size: 18px; color: gray; font-weight: 400\"> Оцените опыт совместного принятия решений </span>  <p style=\"font-size: 8px\">&nbsp;</p>",
          "shuffle": true,
          "name": "epistemic_trust",
          "help": ""
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Далее →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "page_interaction_assess",
      "width": "l"
    },
    "root": {
      "id": "root",
      "title": "root",
      "type": "lab.flow.Sequence",
      "children": [
        "115",
        "114",
        "34",
        "22",
        "12",
        "26",
        "42",
        "25",
        "116",
        "60",
        "17"
      ],
      "parameters": [],
      "plugins": [
        {
          "type": "lab.plugins.Metadata"
        }
      ],
      "metadata": {
        "title": "Factory task [1.7.1] ",
        "description": "This task is stimulus material for the research in psychology. The topic: how does the format of communication (chat vs video+voice) affect epistemic trust.",
        "repository": "",
        "contributors": "Nikita Sharin (nasharin@edu.hse.ru)"
      }
    }
  },
  "version": [
    20,
    2,
    4
  ],
  "files": {
    "files": {
      "index.html": {
        "content": "data:text/html,%3C!doctype%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%3Cstyle%3E%0A%40import%20url('https%3A%2F%2Ffonts.googleapis.com%2Fcss2%3Ffamily%3DRoboto%3Awght%40300%3B400%3B500%3B700%26display%3Dswap')%3B%0A%3C%2Fstyle%3E%0A%3Cscript%20src%3D%22https%3A%2F%2Fcdnjs.cloudflare.com%2Fajax%2Flibs%2Fvega%2F5.7.0%2Fvega.js%22%3E%3C%2Fscript%3E%0A%3Cscript%20src%3D%22https%3A%2F%2Fcdnjs.cloudflare.com%2Fajax%2Flibs%2Fvega-lite%2F3.4.0%2Fvega-lite.js%22%3E%3C%2Fscript%3E%0A%3Cscript%20src%3D%22https%3A%2F%2Fcdnjs.cloudflare.com%2Fajax%2Flibs%2Fvega-embed%2F5.1.3%2Fvega-embed.js%22%3E%3C%2Fscript%3E%0A%20%20%3Cmeta%20charset%3D%22utf-8%22%3E%0A%20%20%3Ctitle%3EExperiment%3C%2Ftitle%3E%0A%20%20%3C!--%20viewport%20setup%20--%3E%0A%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1%22%3E%0A%20%20%3C!--%20lab.js%20library%20and%20experiment%20code%20--%3E%0A%20%20%24%7B%20header%20%7D%0A%3C%2Fhead%3E%0A%3Cbody%3E%0A%20%20%3C!--%20If%20you'd%20rather%20have%20a%20container%20with%20a%20fixed%20width%0A%20%20%20%20%20%20%20and%20variable%20height%2C%20try%20removing%20the%20fullscreen%20class%20below%20--%3E%0A%20%20%3Cdiv%20class%3D%22container%20fullscreen%22%20data-labjs-section%3D%22main%22%3E%0A%20%20%20%20%3Cmain%20class%3D%22content-vertical-center%20content-horizontal-center%22%3E%0A%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3ELoading%20Experiment%3C%2Fh2%3E%0A%20%20%20%20%20%20%20%20%3Cp%3EThe%20experiment%20is%20loading%20and%20should%20start%20in%20a%20few%20seconds%3C%2Fp%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fmain%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Fbody%3E%0A%3C%2Fhtml%3E%0A",
        "source": "library"
      },
      "style.css": {
        "content": "data:text/css,%2F*%20%D0%90%D0%BD%D0%B8%D0%BC%D0%B0%D1%86%D0%B8%D0%B8%20*%2F%0A%0A%2F*%20%D0%90%D0%BD%D0%B8%D0%BC%D0%B0%D1%86%D0%B8%D1%8F%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE%20%D0%BB%D0%B5%D0%B9%D0%B1%D0%BB%D0%B0%20%D1%81%20%D0%BA%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%BE%D0%BC%20%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D1%85%20%D0%BF%D1%80%D0%B8%20%D0%BF%D1%80%D0%B5%D0%B2%D1%8B%D1%88%D0%B5%D0%BD%D0%B8%D0%B8%20%D0%BC%D0%B0%D0%BA%D1%81%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE%2F%D0%BC%D0%B8%D0%BD%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE%20%D0%BA%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%B0%20*%2F%0A.workers_amount_animation%20%7B%0A%20%20animation-name%3A%20color-change%3B%0A%20%20animation-duration%3A%200.6s%3B%0A%7D%0A%0A%40keyframes%20color-change%20%7B%0A%20%200%25%20%20%20%7Bcolor%3A%20rgb(0%2C%200%2C%200)%3B%7D%0A%20%2050%25%20%20%7Bcolor%3A%20rgb(186%2C%2069%2C%2069)%3B%7D%0A%20%20100%25%20%7Bcolor%3A%20black%3B%7D%0A%7D%0A%0A%0A%2F*%20%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA%20*%2F%0A%0A.loader%20%7B%0A%20%20border%3A%2012px%20solid%20%23f3f3f3%3B%20%2F*%20Light%20grey%20*%2F%0A%20%20border-top%3A%2012px%20solid%20%233498db%3B%20%2F*%20Blue%20*%2F%0A%20%20border-radius%3A%2050%25%3B%0A%20%20width%3A%2080px%3B%0A%20%20height%3A%2080px%3B%0A%20%20animation%3A%20spin%202s%20linear%20infinite%3B%0A%7D%0A%0A%40keyframes%20spin%20%7B%0A%20%200%25%20%7B%20transform%3A%20rotate(0deg)%3B%20%7D%0A%20%20100%25%20%7B%20transform%3A%20rotate(360deg)%3B%20%7D%0A%7D%0A%0A%0A%2F*%20%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B5%D0%BA%D1%82%D0%BD%D1%8B%D1%85%20%D1%8D%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2%20*%2F%0A%0A%23stage-title%20%7B%0A%20%20margin-top%3A%205px%3B%0A%7D%0A%0A%23prem-response%20%7B%0A%20%20padding-bottom%3A%203px%3B%0A%20%20font-size%3A%2051px%3B%0A%7D%0A%0A%23prem-response-fabric%20%7B%0A%20%20padding-top%3A%202px%3B%0A%20%20padding-bottom%3A%203px%3B%0A%20%20font-size%3A%2052px%3B%0A%7D%0A%0A%23prem-response-dis%20%7B%0A%20%20padding-bottom%3A%203px%3B%0A%20%20font-size%3A%2045px%3B%0A%7D%0A%0A%23chart-card%20%7B%0A%20%20padding-top%3A%2015px%3B%0A%20%20padding-bottom%3A%2010px%0A%7D%0A%0A%23advice-section-col%20%7B%0A%20%20height%3A%20fit-content%3B%0A%20%20width%3A%20357px%3B%0A%20%20flex-direction%3A%20column%3B%0A%20%20align-items%3A%20left%3B%0A%20%20display%3A%20flex%3B%0A%20%20gap%3A%2020px%3B%0A%7D%0A%0A%23info-section-col%20%7B%0A%20%20height%3A%20fit-content%3B%0A%20%20width%3A%20fit-content%3B%0A%20%20flex-direction%3A%20column%3B%0A%20%20align-items%3A%20left%3B%0A%20%20display%3A%20flex%3B%0A%20%20gap%3A%2020px%3B%0A%7D%0A%0A%23info-section-row%20%7B%0A%20%20height%3A%20fit-content%3B%0A%20%20width%3A%20fit-content%3B%0A%20%20flex-direction%3A%20row%3B%0A%20%20display%3A%20flex%3B%0A%20%20gap%3A%2020px%3B%0A%7D%0A%0A%23prod-level%20%7B%0A%20%20width%3A%20fit-content%3B%0A%20%20height%3A%20fit-content%3B%0A%20%20flex-direction%3A%20column%3B%0A%20%20display%3A%20flex%3B%0A%7D%0A%0A%23prod-level-final%20%7B%0A%20%20height%3A%20fit-content%3B%0A%20%20flex-direction%3A%20column%3B%0A%20%20display%3A%20flex%3B%0A%7D%0A%0A%23discussion-block%20%7B%0A%20%20height%3A%20fit-content%3B%0A%20%20width%3A%20544px%3B%0A%7D%0A%0A%23discussion-block-shortened%20%7B%0A%20%20height%3A%20fit-content%3B%0A%20%20width%3A%20516px%3B%0A%7D%0A%0A%23workers-num-block%20%7B%0A%20%20padding-left%3A%2039px%3B%0A%20%20padding-right%3A%2039px%3B%0A%7D%0A%0A%23confidence-block%20%7B%0A%20%20margin-bottom%3A%2018px%3B%0A%7D%0A%0A%23conf-block%20%7B%0A%20%20width%3A%20580px%3B%20%0A%20%20padding-bottom%3A%208px%3B%0A%7D%0A%0A%2F*%20%D0%97%D0%B0%D0%B3%D0%B0%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8%20*%2F%0A%0A%23prod-level-headline%20%7B%0A%20%20padding-top%3A%2016px%3B%0A%20%20padding-bottom%3A%2016px%0A%7D%0A%0A%23prod-level-headline-dis%20%7B%0A%20%20padding-top%3A%2019px%3B%0A%20%20padding-bottom%3A%2010px%0A%7D%0A%0A%23target-level-headline%20%7B%0A%20%20padding-bottom%3A%2018px%3B%20%0A%20%20padding-top%3A%205px%3B%0A%7D%0A%0A%23middle-text-point%20%7B%0A%20%20padding-top%3A%205px%3B%0A%7D%0A%0A%23advice-text%20%7B%0A%20%20padding-bottom%3A%2018px%3B%20%0A%7D%0A%0A%23prem-choice-headline%20%7B%0A%20%20padding-top%3A%2016px%3B%20%0A%20%20padding-bottom%3A%204px%0A%7D%0A%0A%23prem-choice-headline-dis%20%7B%0A%20%20padding-top%3A%2016px%3B%20%0A%20%20padding-bottom%3A%205px%0A%7D%0A%0A%23confidence-headline%20%7B%0A%20%20padding-top%3A%2016px%3B%20%0A%20%20padding-bottom%3A%208px%3B%0A%7D%0A%0A%23conf-headline%20%7B%0A%20%20padding-top%3A%2016px%3B%20%0A%20%20padding-bottom%3A%206px%3B%0A%7D%0A%0A%23task-headline%20%7B%0A%20%20padding-bottom%3A%2020px%3B%20%0A%7D%0A%0A%0A%2F*%20%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D0%B5%20%D1%8D%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20*%2F%0A%0Abody%20%7B%20font-family%3A%20'Roboto'%2C%20sans-serif%20%7D%0Aform%20%7B%20text-align%3A%20left%20%7D%0A%0A.header-footer-style%20%7B%0A%20%20background-color%3A%20%23F6F6F6%3B%20%0A%20%20font-size%3A%2016px%3B%0A%7D%0A%0A%0A%2F*%20%D0%A8%D1%80%D0%B8%D1%84%D1%82%D1%8B%20*%2F%0A%0A.headline%20%7B%0A%20%20font-size%3A%2016px%3B%0A%20%20font-weight%3A%20bold%3B%0A%7D%0A%0A.fourteen_px%20%7B%20font-size%3A%2014px%20%7D%0A.fifthteen_px%20%7B%20font-size%3A%2015px%20%7D%0A.nineteen_px%20%7B%20font-size%3A%2019px%20%7D%0A.twenty-four_px%20%7B%20font-size%3A%2024px%20%7D%0A.twenty-eight_px%20%7B%20font-size%3A%2028px%20%7D%0A%0A.medium_weight%20%7B%20font-weight%3A%20500%20%7D%0A.light_weight%20%7B%20font-weight%3A%20400%20%7D%0A%0A%0A%2F*%20%22%D0%AD%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%20%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D0%B8%20%D0%B2%D1%8B%D0%B1%D0%BE%D1%80%D0%B0%20%D0%BA%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D1%85%22%20*%2F%0A%0A.work-num-element%20%7B%0A%20%20padding%3A%208px%3B%0A%20%20margin-top%3A%200px%3B%0A%20%20margin-right%3A%204px%3B%0A%20%20margin-bottom%3A%2020px%3B%0A%20%20margin-left%3A%204px%3B%0A%7D%0A%0A%2F*%20%D0%9A%D0%BD%D0%BE%D0%BF%D0%BA%D0%B0%20*%2F%0A%0A.button%20%7B%0A%20%20background-color%3A%20rgb(255%2C%20255%2C%20255)%3B%0A%09width%3A%2047.5px%3B%0A%20%20border-radius%3A%2040px%3B%0A%20%20transition%3A%20.1s%20ease-in-out%200s%3B%0A%7D%0A%0A.button%3Ahover%7B%0A%20%20cursor%3A%20pointer%3B%0A%20%20transform%3A%20scale(1.1)%3B%0A%20%20background-color%3A%20%23F6F6F6%3B%0A%7D%0A%0A.button%3Adisabled%7B%0A%20%20opacity%3A%200.4%3B%0A%7D%0A%0A%2F*%20%D0%9A%D0%B0%D1%80%D1%82%D0%BE%D1%87%D0%BA%D0%B8%20*%2F%0A%0A.card%20%7B%20%20%0A%20%20padding-left%3A%2020px%3B%0A%20%20padding-right%3A%2020px%3B%0A%20%20border-style%3A%20solid%3B%0A%20%20border-color%3A%20%23E6E8EA%3B%0A%20%20border-radius%3A%2012px%3B%0A%20%20border-width%3A%201.5px%3B%0A%20%20transition%3A%20.1s%20ease-in-out%200s%3B%0A%7D%0A%0A.card%3Ainvalid%20%7B%20%20%0A%20%20border-color%3A%20rgb(207%2C%2083%2C%2083)%3B%0A%20%20background-color%3A%20%20rgb(239%2C%20213%2C%20213)%3B%0A%7D%0A%0A.present-card%20%7B%20%20%0A%20%20padding%3A%2046px%3B%0A%20%20border-style%3A%20solid%3B%0A%20%20background-color%3A%20%23FFFFFF%3B%0A%20%20border-color%3A%20%23E6E8EA%3B%0A%20%20border-radius%3A%2012px%3B%0A%20%20border-width%3A%201.5px%3B%0A%7D%0A%0A.final-choice-card%20%7B%20%20%0A%20%20padding%3A%2046px%3B%0A%20%20border-style%3A%20solid%3B%0A%20%20background-color%3A%20%23F5FBFF%3B%0A%20%20border-color%3A%20%23D6E9F9%3B%0A%20%20border-radius%3A%2012px%3B%0A%20%20border-width%3A%201.5px%3B%0A%7D%0A%0A.prelim-choice-card%20%7B%20%20%0A%20%20padding%3A%2046px%3B%0A%20%20border-style%3A%20solid%3B%0A%20%20background-color%3A%20%23F6FDFD%3B%0A%20%20border-color%3A%20%23D2EDF0%3B%0A%20%20border-radius%3A%2012px%3B%0A%20%20border-width%3A%201.5px%3B%0A%7D%0A%0A%0A%2F*%20%D0%9B%D0%B8%D0%BA%D0%B5%D1%80%D1%82-%D1%88%D0%BA%D0%B0%D0%BB%D0%B0%20*%2F%0A%0Aform%20.likert%3Abefore%20%7B%0A%20%20content%3A%20''%3B%0A%20%20position%3Arelative%3B%0A%20%20top%3A%2018px%3B%0A%20%20left%3A%2013%25%3B%0A%20%20display%3A%20block%3B%0A%20%20background-color%3A%23e0e0e0%3B%0A%20%20height%3A%202px%3B%0A%20%20width%3A%2074%25%3B%0A%7D%0A%0Aform%20.likert%20li%20%7B%0A%20%20display%3A%20inline-block%3B%0A%20%20width%3A%2024%25%3B%0A%20%20text-align%3A%20center%3B%0A%20%20vertical-align%3A%20top%3B%0A%7D%0A%0Aform%20.likert%20ul%20%7B%0A%20%20padding-inline-start%3A%200px%3B%0A%20%20padding-left%3A%205px%3B%20%0A%20%20margin-top%3A%200px%3B%20%0A%20%20margin-bottom%3A%2012px%3B%0A%7D%0A%0Aform%20.likert%20li%20input%5Btype%20%3D%20radio%5D%20%7B%0A%20%20display%3A%20block%3B%0A%20%20position%3A%20relative%3B%0A%20%20top%3A%200%3B%0A%20%20left%3A%2050%25%3B%0A%20%20margin-left%3A%20-6px%3B%0A%20%20height%3A%2018px%3B%0A%20%20width%3A%2020%25%3B%0A%7D%0A%0A.likert%20%7B%0A%20%20padding-left%3A%205px%3B%20%0A%20%20margin-top%3A%200px%3B%20%0A%20%20margin-bottom%3A%2012px%0A%7D%0A%0A%2F*%20%D0%9A%D0%BE%D0%BC%D0%BF%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0%20*%2F%0A%0A.main-layout%20%7B%0A%20%20flex-direction%3A%20column%3B%0A%20%20display%3A%20flex%3B%0A%20%20align-items%3A%20center%3B%0A%20%20gap%3A%2020px%3B%0A%20%20justify-content%3A%20center%3B%0A%7D%0A%0A.horizontal-section%20%7B%0A%20%20width%3A%20fit-content%3B%0A%20%20height%3A%20fit-content%3B%0A%20%20flex-direction%3A%20row%3B%0A%20%20display%3A%20flex%3B%0A%20%20gap%3A%2020px%3B%0A%7D%0A%0A.horizontal-centered%20%7B%0A%20%20width%3A%20fit-content%3B%0A%20%20height%3A%20fit-content%3B%0A%20%20flex-direction%3A%20row%3B%0A%20%20display%3A%20flex%3B%0A%20%20align-items%3A%20center%3B%0A%7D%0A%0A.vertical-centered%20%7B%0A%20%20height%3A%20fit-content%3B%0A%20%20width%3A%20fit-content%3B%0A%20%20flex-direction%3A%20column%3B%0A%20%20align-items%3A%20center%3B%0A%20%20display%3A%20flex%3B%0A%7D%0A%0A.vertical-lefted%20%7B%0A%20%20height%3A%20fit-content%3B%0A%20%20width%3A%20fit-content%3B%0A%20%20flex-direction%3A%20column%3B%0A%20%20display%3A%20flex%3B%0A%7D%0A%0A%0A%2F*%20%D0%92%D1%8B%D1%80%D0%B0%D0%B2%D0%BD%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0%20*%2F%0A%0A.text-lefted%20%7B%0A%20display%3A%20block%3B%0A%20text-align%3A%20left%3B%0A%7D%0A%0A.text-centered%20%7B%0A%20display%3A%20block%3B%0A%20text-align%3A%20center%3B%0A%7D%0A%0A%0A%2F*%20%D0%A6%D0%B2%D0%B5%D1%82%D0%B0%3A%20%D1%88%D1%80%D0%B8%D1%84%D1%82%D1%8B%20*%2F%0A%0A.dark-red%20%7B%20color%3A%20firebrick%20%7D%0A.dark-yellow%20%7B%20color%3A%20%23C17F29%20%7D%0A.dark-green%20%7B%20color%3A%20rgb(60%2C%20131%2C%2039)%20%7D%0A.gray%20%7B%20color%3A%20%23828282%7D%0A.turquoise%20%7B%20color%3A%20rgb(31%2C%20150%2C%20159)%20%7D%0A.turquoise-light%20%7B%20color%3A%20%2336A4AC%20%7D%0A.blue%20%7B%20color%3A%20rgb(42%2C%20120%2C%20184)%20%7D%0A.blue-light%20%7B%20color%3A%20%234E9DDF%20%7D%0A.purple%20%7B%20color%3A%20%23896dd1%20%7D%0A%0A%2F*%20%D0%A6%D0%B2%D0%B5%D1%82%D0%B0%3A%20%D1%84%D0%BE%D0%BD%20*%2F%0A%0A.weak-red%20%7B%20background-color%3A%20rgb(239%2C%20165%2C%20165)%20%7D%0A.light-gray%20%7B%20background-color%3A%20%23F6F6F6%20%7D%0A.input-color%20%7B%20background-color%3A%20%23F6F6F6%20%7D%0A.output-color%20%7B%20background-color%3A%20%23F7FAFC%20%7D%0A%0A%2F*%20%D0%A6%D0%B2%D0%B5%D1%82%D0%B0%3A%20%D0%B3%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D1%8B%20*%2F%0A%0A.red-state%20%7B%0A%20%20border-color%3A%20rgb(207%2C%2083%2C%2083)%3B%0A%20%20background-color%3A%20%20rgb(243%2C%20227%2C%20227)%3B%0A%7D",
        "source": "library"
      }
    },
    "bundledFiles": {
      "lib/lab.js": {
        "type": "application/javascript"
      },
      "lib/lab.js.map": {
        "type": "text/plain"
      },
      "lib/lab.fallback.js": {
        "type": "application/javascript"
      },
      "lib/lab.legacy.js": {
        "type": "application/javascript"
      },
      "lib/lab.legacy.js.map": {
        "type": "text/plain"
      },
      "lib/lab.css": {
        "type": "text/css"
      },
      "lib/loading.svg": {
        "type": "image/svg+xml"
      }
    }
  }
}
